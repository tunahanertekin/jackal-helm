apiVersion: v1
kind: ConfigMap
metadata:
  name: robot-bootstrap
  namespace: {{ .Values.namespace }}
data:
  bootstrap.sh: |
    #!/bin/bash
    set -e
    
    trap "echo TRAPed signal" HUP INT QUIT KILL TERM
    
    sudo chown -R user:user /home/user 
    echo "user:$PASSWD" | sudo chpasswd
    sudo ln -snf "/usr/share/zoneinfo/$TZ" /etc/localtime && echo "$TZ" | sudo tee /etc/timezone > /dev/null
    
    sudo ln -snf /dev/ptmx /dev/tty7
    sudo /etc/init.d/ssh start
    #sudo /etc/init.d/dbus start
    #pulseaudio --start
    
    # Install NVIDIA drivers, including X graphic drivers by omitting --x-{prefix,module-path,library-path,sysconfig-path}
    if ! command -v nvidia-xconfig &> /dev/null; then
      export DRIVER_VERSION=$(head -n1 </proc/driver/nvidia/version | awk '{print $8}')
      BASE_URL=https://download.nvidia.com/XFree86/Linux-x86_64
      cd /tmp
      curl -fsSL -O $BASE_URL/$DRIVER_VERSION/NVIDIA-Linux-x86_64-$DRIVER_VERSION.run
      sudo sh NVIDIA-Linux-x86_64-$DRIVER_VERSION.run -x
      cd NVIDIA-Linux-x86_64-$DRIVER_VERSION
      sudo ./nvidia-installer --silent \
    					--no-kernel-module \
    					--install-compat32-libs \
    					--no-nouveau-check \
    					--no-nvidia-modprobe \
    					--no-rpms \
    					--no-backup \
    					--no-check-for-alternate-installs \
    					--no-libglx-indirect \
    					--no-install-libglvnd
      sudo rm -rf /tmp/NVIDIA*
      cd ~
    fi
    if grep -Fxq "allowed_users=console" /etc/X11/Xwrapper.config; then
      sudo sed -i "s/allowed_users=console/allowed_users=anybody/;$ a needs_root_rights=yes" /etc/X11/Xwrapper.config
    fi   
    if [ -f "/etc/X11/xorg.conf" ]; then
      sudo rm /etc/X11/xorg.conf
    fi    
    if [ "$NVIDIA_VISIBLE_DEVICES" == "all" ]; then
      export GPU_SELECT=$(sudo nvidia-smi --query-gpu=uuid --format=csv | sed -n 2p)
    elif [ -z "$NVIDIA_VISIBLE_DEVICES" ]; then
      export GPU_SELECT=$(sudo nvidia-smi --query-gpu=uuid --format=csv | sed -n 2p)
    else
      export GPU_SELECT=$(sudo nvidia-smi --id=$(echo "$NVIDIA_VISIBLE_DEVICES" | cut -d ',' -f1) --query-gpu=uuid --format=csv | sed -n 2p)
      if [ -z "$GPU_SELECT" ]; then
        export GPU_SELECT=$(sudo nvidia-smi --query-gpu=uuid --format=csv | sed -n 2p)
      fi
    fi   
    if [ -z "$GPU_SELECT" ]; then
      echo "No NVIDIA GPUs detected. Exiting."
      exit 1
    fi   
    HEX_ID=$(sudo nvidia-smi --query-gpu=pci.bus_id --id="$GPU_SELECT" --format=csv | sed -n 2p)
    IFS=":." ARR_ID=($HEX_ID)
    unset IFS
    BUS_ID=PCI:$((16#${ARR_ID[1]})):$((16#${ARR_ID[2]})):$((16#${ARR_ID[3]}))
    export MODELINE=$(cvt -r ${SIZEW} ${SIZEH} | sed -n 2p)
    sudo nvidia-xconfig --virtual="${SIZEW}x${SIZEH}" --depth="$CDEPTH" --mode=$(echo $MODELINE | awk '{print $2}' | tr -d '"') --allow-empty-initial-configuration --no-probe-all-gpus --busid="$BUS_ID" --only-one-x-screen --connected-monitor="$VIDEO_PORT"
    sudo sed -i '/Driver\s\+"nvidia"/a\    Option         "ModeValidation" "NoMaxPClkCheck, NoEdidMaxPClkCheck, NoMaxSizeCheck, NoHorizSyncCheck, NoVertRefreshCheck, NoVirtualSizeCheck, NoExtendedGpuCapabilitiesCheck, NoTotalSizeCheck, NoDualLinkDVICheck, NoDisplayPortBandwidthCheck, AllowNon3DVisionModes, AllowNonHDMI3DModes, AllowNonEdidModes, NoEdidHDMI2Check, AllowDpInterlaced"\n    Option         "DPI" "96 x 96"' /etc/X11/xorg.conf
    sudo sed -i '/Section\s\+"Monitor"/a\    '"$MODELINE" /etc/X11/xorg.conf    
    sudo /usr/bin/dbus &
    export DISPLAY=:0
    /usr/bin/pulseaudio --disallow-module-loading -vvvv --disallow-exit --exit-idle-time=-1 &
    cd /etc/X11
    /usr/bin/X vt7 -novtswitch -sharevts +extension "MIT-SHM" :0 -config xorg.conf :0 &
    /usr/bin/neko serve -d --static "/var/www" --bind "0.0.0.0:$NEKO_BIND"   --epr "$NEKO_UDP_PORT" --display ":0" &
    mate-session &   
    echo "Session Running. Press [Return] to exit. TEST CM"
    read
---	
apiVersion: v1
kind: ConfigMap
metadata:
  name: robot-theia-start
data:
  theia_start.sh: |
    #!/bin/bash
    
    # IF APT INSTALLS REQUESTED VIA ENV VAR
    if [ ! -z $INSTALL ]; then
    
        # PERFORM INSTALLATIONS
        sudo DEBIAN_FRONTEND=noninteractive apt-get install -y $INSTALL
    fi
    
    # IF PRECONFIG SCRIPT MOUNTED
    if [ -f /preconf.sh ]; then
    
        # RUN IT
        /bin/sh /preconf.sh
    fi
    
    # OWN REPOS DIR
    sudo chown -R user:user /repos
    cd /build/
    # LAUNCH THEIA CM
    SHELL=/bin/bash node /build/src-gen/backend/main.js /home/user/catkin_ws --hostname=0.0.0.0 --port="$THEIA_PORT"
---	
apiVersion: v1
kind: ConfigMap
metadata:
  name: robot-theia-supervisord
data:
  theia_supervisord.conf: |
    [program:theia]
    command=/etc/provedge/theia_start.sh
    autorestart=true
    priority=850
    stdout_logfile=/tmp/theia.log
    stdout_logfile_maxbytes=100MB
    stdout_logfile_backups=10
    redirect_stderr=true

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: robot-app-js
data:
  app.08718670.js: |
    (function(e) {
        function t(t) {
            for (var o, a, c = t[0], r = t[1], u = t[2], d = 0, h = []; d < c.length; d++) a = c[d], Object.prototype.hasOwnProperty.call(s, a) && s[a] && h.push(s[a][0]), s[a] = 0;
            for (o in r) Object.prototype.hasOwnProperty.call(r, o) && (e[o] = r[o]);
            l && l(t);
            while (h.length) h.shift()();
            return i.push.apply(i, u || []), n()
        }
    
        function n() {
            for (var e, t = 0; t < i.length; t++) {
                for (var n = i[t], o = !0, c = 1; c < n.length; c++) {
                    var r = n[c];
                    0 !== s[r] && (o = !1)
                }
                o && (i.splice(t--, 1), e = a(a.s = n[0]))
            }
            return e
        }
        var o = {},
            s = {
                app: 0
            },
            i = [];
    
        function a(t) {
            if (o[t]) return o[t].exports;
            var n = o[t] = {
                i: t,
                l: !1,
                exports: {}
            };
            return e[t].call(n.exports, n, n.exports, a), n.l = !0, n.exports
        }
        a.m = e, a.c = o, a.d = function(e, t, n) {
            a.o(e, t) || Object.defineProperty(e, t, {
                enumerable: !0,
                get: n
            })
        }, a.r = function(e) {
            "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {
                value: "Module"
            }), Object.defineProperty(e, "__esModule", {
                value: !0
            })
        }, a.t = function(e, t) {
            if (1 & t && (e = a(e)), 8 & t) return e;
            if (4 & t && "object" === typeof e && e && e.__esModule) return e;
            var n = Object.create(null);
            if (a.r(n), Object.defineProperty(n, "default", {
                    enumerable: !0,
                    value: e
                }), 2 & t && "string" != typeof e)
                for (var o in e) a.d(n, o, function(t) {
                    return e[t]
                }.bind(null, o));
            return n
        }, a.n = function(e) {
            var t = e && e.__esModule ? function() {
                return e["default"]
            } : function() {
                return e
            };
            return a.d(t, "a", t), t
        }, a.o = function(e, t) {
            return Object.prototype.hasOwnProperty.call(e, t)
        }, a.p = "/";
        var c = window["webpackJsonp"] = window["webpackJsonp"] || [],
            r = c.push.bind(c);
        c.push = t, c = c.slice();
        for (var u = 0; u < c.length; u++) t(c[u]);
        var l = r;
        i.push([0, "chunk-vendors"]), n()
    })({
        0: function(e, t, n) {
            e.exports = n("cd49")
        },
        "0423": function(e, t, n) {
            "use strict";
            var o = n("9802"),
                s = n.n(o);
            s.a
        },
        "0a14": function(e, t, n) {
            "use strict";
            var o = n("668e"),
                s = n.n(o);
            s.a
        },
        "0db9": function(e, t, n) {
            "use strict";
            var o = n("ddc1"),
                s = n.n(o);
            s.a
        },
        1113: function(e, t, n) {},
        1610: function(e, t, n) {
            "use strict";
            var o = n("8cbf"),
                s = n.n(o);
            s.a
        },
        2253: function(e, t, n) {
            "use strict";
            var o = n("9a86"),
                s = n.n(o);
            s.a
        },
        "2fb4": function(e, t, n) {},
        3070: function(e, t, n) {
            "use strict";
            var o = n("911e"),
                s = n.n(o);
            s.a
        },
        "312d": function(e, t, n) {
            "use strict";
            var o = n("1113"),
                s = n.n(o);
            s.a
        },
        "31ae": function(e, t, n) {},
        "437c": function(e, t, n) {},
        "5ea3": function(e, t, n) {
            "use strict";
            var o = n("991d"),
                s = n.n(o);
            s.a
        },
        6294: function(e, t, n) {
            "use strict";
            var o = n("437c"),
                s = n.n(o);
            s.a
        },
        "668e": function(e, t, n) {},
        "76c2": function(e, t, n) {
            "use strict";
            var o = n("f03e"),
                s = n.n(o);
            s.a
        },
        "81d5": function(e, t, n) {},
        8996: function(e, t, n) {},
        "8cbf": function(e, t, n) {},
        "911e": function(e, t, n) {},
        "938d": function(e, t, n) {},
        9802: function(e, t, n) {},
        "991d": function(e, t, n) {},
        "9a86": function(e, t, n) {},
        a509: function(e, t, n) {},
        a904: function(e, t, n) {
            "use strict";
            var o = n("8996"),
                s = n.n(o);
            s.a
        },		
        b0a8: function(e, t, n) {
            "use strict";
            var o = n("e434"),
                s = n.n(o);
            s.a
        },
        b0db: function(e, t, n) {
            "use strict";
            var o = n("81d5"),
                s = n.n(o);
            s.a
        },
        b66f: function(e, t, n) {
            "use strict";
            var o = n("a509"),
                s = n.n(o);
            s.a
        },
        cd49: function(e, t, n) {
            "use strict";
            n.r(t);
            var o = {};
            n.r(o), n.d(o, "chat", (function() {
                return F
            })), n.d(o, "settings", (function() {
                return H
            })), n.d(o, "logout", (function() {
                return V
            })), n.d(o, "unsupported", (function() {
                return q
            })), n.d(o, "admin_loggedin", (function() {
                return Q
            })), n.d(o, "you", (function() {
                return z
            })), n.d(o, "ok", (function() {
                return Y
            })), n.d(o, "connected", (function() {
                return W
            })), n.d(o, "disconnected", (function() {
                return J
            })), n.d(o, "connect", (function() {
                return X
            })), n.d(o, "context", (function() {
                return Z
            })), n.d(o, "controls", (function() {
                return ee
            })), n.d(o, "room", (function() {
                return te
            })), n.d(o, "setting", (function() {
                return ne
            })), n.d(o, "connection", (function() {
                return oe
            })), n.d(o, "notifications", (function() {
                return se
            }));
            var s = {};
            n.r(s), n.d(s, "namespaced", (function() {
                return fe
            })), n.d(s, "state", (function() {
                return me
            })), n.d(s, "getters", (function() {
                return pe
            })), n.d(s, "mutations", (function() {
                return ve
            })), n.d(s, "actions", (function() {
                return ge
            }));
            var i = {};
            n.r(i), n.d(i, "namespaced", (function() {
                return ke
            })), n.d(i, "state", (function() {
                return _e
            })), n.d(i, "getters", (function() {
                return $e
            })), n.d(i, "mutations", (function() {
                return Oe
            })), n.d(i, "actions", (function() {
                return we
            }));
            var a = {};
            n.r(a), n.d(a, "namespaced", (function() {
                return je
            })), n.d(a, "state", (function() {
                return Ce
            })), n.d(a, "getters", (function() {
                return Ee
            })), n.d(a, "mutations", (function() {
                return xe
            })), n.d(a, "actions", (function() {
                return Me
            }));
            var c = {};
            n.r(c), n.d(c, "namespaced", (function() {
                return De
            })), n.d(c, "state", (function() {
                return Se
            })), n.d(c, "getters", (function() {
                return Te
            })), n.d(c, "mutations", (function() {
                return Ae
            })), n.d(c, "actions", (function() {
                return Re
            }));
            var r = {};
            n.r(r), n.d(r, "namespaced", (function() {
                return Pe
            })), n.d(r, "state", (function() {
                return Le
            })), n.d(r, "getters", (function() {
                return Ie
            })), n.d(r, "mutations", (function() {
                return Ue
            }));
            var u = {};
            n.r(u), n.d(u, "namespaced", (function() {
                return Ke
            })), n.d(u, "state", (function() {
                return Ge
            })), n.d(u, "getters", (function() {
                return Be
            })), n.d(u, "mutations", (function() {
                return Fe
            })), n.d(u, "actions", (function() {
                return He
            }));
            var l = {};
            n.r(l), n.d(l, "namespaced", (function() {
                return Ve
            })), n.d(l, "state", (function() {
                return qe
            })), n.d(l, "getters", (function() {
                return Qe
            })), n.d(l, "mutations", (function() {
                return ze
            })), n.d(l, "actions", (function() {
                return Ye
            }));
            n("e260"), n("e6cf"), n("cca6"), n("a79d"), n("2fb4");
            var d = n("a026"),
                h = n("ee98"),
                f = n.n(h),
                m = n("e37d"),
                p = (n("99af"), {
                    install: function(e) {
                        window.$log = {
                            error: function(e) {
                                return console.error("[%cNEKO%c] %cERR", "color: #498ad8;", "", "color: #d84949;", e)
                            },
                            warn: function() {
                                for (var e, t = arguments.length, n = new Array(t), o = 0; o < t; o++) n[o] = arguments[o];
                                return (e = console).warn.apply(e, ["[%cNEKO%c] %cWRN", "color: #498ad8;", "", "color: #eae364;"].concat(n))
                            },
                            info: function() {
                                for (var e, t = arguments.length, n = new Array(t), o = 0; o < t; o++) n[o] = arguments[o];
                                return (e = console).info.apply(e, ["[%cNEKO%c] %cINF", "color: #498ad8;", "", "color: #4ac94c;"].concat(n))
                            },
                            debug: function() {
                                for (var e, t = arguments.length, n = new Array(t), o = 0; o < t; o++) n[o] = arguments[o];
                                return (e = console).log.apply(e, ["[%cNEKO%c] %cDBG", "color: #498ad8;", "", "color: #eae364;"].concat(n))
                            }
                        }, e.prototype.$log = window.$log
                    }
                }),
                v = p,
                g = (n("ac1f"), n("1276"), n("d4ec")),
                y = n("bee2"),
                b = n("2caf"),
                k = n("262e"),
                _ = (n("caad"), n("c19f"), n("ace4"), n("d3b7"), n("15fd")),
                $ = n("5530"),
                O = n("ba10"),
                w = n.n(O),
                j = {
                    MOVE: 1,
                    SCROLL: 2,
                    KEY_DOWN: 3,
                    KEY_UP: 4
                },
                C = {
                    CONNECTING: "CONNECTING",
                    CONNECTED: "CONNECTED",
                    DISCONNECTED: "DISCONNECTED",
                    TRACK: "TRACK",
                    MESSAGE: "MESSAGE",
                    DATA: "DATA",
                    SYSTEM: {
                        DISCONNECT: "system/disconnect"
                    },
                    SIGNAL: {
                        ANSWER: "signal/answer",
                        PROVIDE: "signal/provide"
                    },
                    MEMBER: {
                        LIST: "member/list",
                        CONNECTED: "member/connected",
                        DISCONNECTED: "member/disconnected"
                    },
                    CONTROL: {
                        LOCKED: "control/locked",
                        RELEASE: "control/release",
                        REQUEST: "control/request",
                        REQUESTING: "control/requesting",
                        CLIPBOARD: "control/clipboard",
                        GIVE: "control/give"
                    },
                    CHAT: {
                        MESSAGE: "chat/message",
                        EMOTE: "chat/emote"
                    },
                    SCREEN: {
                        CONFIGURATIONS: "screen/configurations",
                        RESOLUTION: "screen/resolution",
                        SET: "screen/set"
                    },
                    ADMIN: {
                        BAN: "admin/ban",
                        KICK: "admin/kick",
                        LOCK: "admin/lock",
                        UNLOCK: "admin/unlock",
                        MUTE: "admin/mute",
                        UNMUTE: "admin/unmute",
                        CONTROL: "admin/control",
                        RELEASE: "admin/release",
                        GIVE: "admin/give"
                    }
                },
                E = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        var e;
                        return Object(g["a"])(this, n), e = t.apply(this, arguments), e._state = "disconnected", e._id = "", e
                    }
                    return Object(y["a"])(n, [{
                        key: "connect",
                        value: function(e, t, n) {
                            var o = this;
                            if (this.socketOpen) this.emit("warn", "attempting to create websocket while connection open");
                            else if (this.supported) {
                                if ("" === n) throw new Error("Must add a displayname");
                                this._displayname = n, this[C.CONNECTING]();
                                try {
                                    this._ws = new WebSocket("".concat(e, "ws?password=").concat(t)), this.emit("debug", "connecting to ".concat(this._ws.url)), this._ws.onmessage = this.onMessage.bind(this), this._ws.onerror = function(e) {
                                        return o.onError.bind(o)
                                    }, this._ws.onclose = function(e) {
                                        return o.onDisconnected.bind(o, new Error("websocket closed"))
                                    }, this._timeout = setTimeout(this.onTimeout.bind(this), 15e3)
                                } catch (s) {
                                    this.onDisconnected(s)
                                }
                            } else this.onDisconnected(new Error("browser does not support webrtc (RTCPeerConnection missing)"))
                        }
                    }, {
                        key: "disconnect",
                        value: function() {
                            if (this._timeout && clearTimeout(this._timeout), this.socketOpen) {
                                try {
                                    this._ws.close()
                                } catch (e) {}
                                this._ws = void 0
                            }
                            if (this.peerConnected) {
                                try {
                                    this._peer.close()
                                } catch (e) {}
                                this._peer = void 0
                            }
                            this._state = "disconnected", this._displayname = void 0, this._id = ""
                        }
                    }, {
                        key: "sendData",
                        value: function(e, t) {
                            if (this.connected) {
                                var n, o;
                                switch (e) {
                                    case "mousemove":
                                        n = new ArrayBuffer(7), o = new DataView(n), o.setUint8(0, j.MOVE), o.setUint16(1, 4, !0), o.setUint16(3, t.x, !0), o.setUint16(5, t.y, !0);
                                        break;
                                    case "wheel":
                                        n = new ArrayBuffer(7), o = new DataView(n), o.setUint8(0, j.SCROLL), o.setUint16(1, 4, !0), o.setInt16(3, t.x, !0), o.setInt16(5, t.y, !0);
                                        break;
                                    case "keydown":
                                    case "mousedown":
                                        n = new ArrayBuffer(5), o = new DataView(n), o.setUint8(0, j.KEY_DOWN), o.setUint16(1, 1, !0), o.setUint16(3, t.key, !0);
                                        break;
                                    case "keyup":
                                    case "mouseup":
                                        n = new ArrayBuffer(5), o = new DataView(n), o.setUint8(0, j.KEY_UP), o.setUint16(1, 1, !0), o.setUint16(3, t.key, !0);
                                        break;
                                    default:
                                        this.emit("warn", "unknown data event: ".concat(e))
                                }
                                "undefined" !== typeof n && this._channel.send(n)
                            } else this.emit("warn", "attempting to send data while disconnected")
                        }
                    }, {
                        key: "sendMessage",
                        value: function(e, t) {
                            this.connected ? (this.emit("debug", "sending event '".concat(e, "' ").concat(t ? "with payload: " : ""), t), this._ws.send(JSON.stringify(Object($["a"])({
                                event: e
                            }, t)))) : this.emit("warn", "attempting to send message while disconnected")
                        }
                    }, {
                        key: "createPeer",
                        value: function(e) {
                            var t = this;
                            this.emit("debug", "creating peer"), this.socketOpen ? this.peerConnected ? this.emit("warn", "attempting to create peer while connected") : (this._peer = new RTCPeerConnection, this._peer.onconnectionstatechange = function(e) {
                                t.emit("debug", "peer connection state changed", t._peer ? t._peer.connectionState : void 0)
                            }, this._peer.onsignalingstatechange = function(e) {
                                t.emit("debug", "peer signaling state changed", t._peer ? t._peer.signalingState : void 0)
                            }, this._peer.oniceconnectionstatechange = function(e) {
                                switch (t._state = t._peer.iceConnectionState, t.emit("debug", "peer ice connection state changed: ".concat(t._peer.iceConnectionState)), t._state) {
                                    case "checking":
                                        t._timeout && clearTimeout(t._timeout);
                                        break;
                                    case "connected":
                                        t.onConnected();
                                        break;
                                    case "failed":
                                        t.onDisconnected(new Error("peer failed"));
                                        break;
                                    case "disconnected":
                                        t.onDisconnected(new Error("peer disconnected"));
                                        break
                                }
                            }, this._peer.ontrack = this.onTrack.bind(this), this._peer.addTransceiver("audio", {
                                direction: "recvonly"
                            }), this._peer.addTransceiver("video", {
                                direction: "recvonly"
                            }), this._channel = this._peer.createDataChannel("data"), this._channel.onerror = this.onError.bind(this), this._channel.onmessage = this.onData.bind(this), this._channel.onclose = this.onDisconnected.bind(this, new Error("peer data channel closed")), this._peer.setRemoteDescription({
                                type: "offer",
                                sdp: e
                            }), this._peer.createAnswer().then((function(e) {
                                t._peer.setLocalDescription(e), t._ws.send(JSON.stringify({
                                    event: C.SIGNAL.ANSWER,
                                    sdp: e.sdp,
                                    displayname: t._displayname
                                }))
                            })).catch((function(e) {
                                return t.emit("error", e)
                            }))) : this.emit("warn", "attempting to create peer with no websocket: ", this._ws ? "state: ".concat(this._ws.readyState) : "no socket")
                        }
                    }, {
                        key: "onMessage",
                        value: function(e) {
                            var t = JSON.parse(e.data),
                                n = t.event,
                                o = Object(_["a"])(t, ["event"]);
                            if (this.emit("debug", "received websocket event ".concat(n, " ").concat(o ? "with payload: " : ""), o), n === C.SIGNAL.PROVIDE) {
                                var s = o.sdp,
                                    i = o.id;
                                return this._id = i, void this.createPeer(s)
                            }
                            "function" === typeof this[n] ? this[n](o) : this[C.MESSAGE](n, o)
                        }
                    }, {
                        key: "onData",
                        value: function(e) {
                            this[C.DATA](e.data)
                        }
                    }, {
                        key: "onTrack",
                        value: function(e) {
                            this.emit("debug", "received ".concat(e.track.kind, " track from peer: ").concat(e.track.id), e);
                            var t = e.streams[0];
                            t ? this[C.TRACK](e) : this.emit("warn", "no stream provided for track ".concat(e.track.id, "(").concat(e.track.label, ")"))
                        }
                    }, {
                        key: "onError",
                        value: function(e) {
                            this.emit("error", e.error)
                        }
                    }, {
                        key: "onConnected",
                        value: function() {
                            this._timeout && clearTimeout(this._timeout), this.connected ? (this.emit("debug", "connected"), this[C.CONNECTED]()) : this.emit("warn", "onConnected called while being disconnected")
                        }
                    }, {
                        key: "onTimeout",
                        value: function() {
                            this.emit("debug", "connection timeout"), this._timeout && clearTimeout(this._timeout), this.onDisconnected(new Error("connection timeout"))
                        }
                    }, {
                        key: "onDisconnected",
                        value: function(e) {
                            this.disconnect(), this.emit("debug", "disconnected:", e), this[C.DISCONNECTED](e)
                        }
                    }, {
                        key: C.MESSAGE,
                        value: function(e, t) {
                            this.emit("warn", "unhandled websocket event '".concat(e, "':"), t)
                        }
                    }, {
                        key: "id",
                        get: function() {
                            return this._id
                        }
                    }, {
                        key: "supported",
                        get: function() {
                            return "undefined" !== typeof RTCPeerConnection && "undefined" !== typeof RTCPeerConnection.prototype.addTransceiver
                        }
                    }, {
                        key: "socketOpen",
                        get: function() {
                            return "undefined" !== typeof this._ws && this._ws.readyState === WebSocket.OPEN
                        }
                    }, {
                        key: "peerConnected",
                        get: function() {
                            return "undefined" !== typeof this._peer && ["connected", "checking", "completed"].includes(this._state)
                        }
                    }, {
                        key: "connected",
                        get: function() {
                            return this.peerConnected && this.socketOpen
                        }
                    }]), n
                }(w.a),
                x = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        return Object(g["a"])(this, n), t.apply(this, arguments)
                    }
                    return Object(y["a"])(n, [{
                        key: "init",
                        value: function(e) {
                            this.$vue = e, this.$accessor = e.$accessor
                        }
                    }, {
                        key: "cleanup",
                        value: function() {
                            this.$accessor.setConnected(!1), this.$accessor.remote.reset(), this.$accessor.user.reset(), this.$accessor.video.reset(), this.$accessor.chat.reset()
                        }
                    }, {
                        key: "login",
                        value: function(e, t) {
                            var n = "".concat(/https/gi.test(location.protocol) ? "wss" : "ws", "://").concat(location.host, "/");
                            this.connect(n, e, t)
                        }
                    }, {
                        key: "logout",
                        value: function() {
                            this.disconnect(), this.cleanup(), this.$vue.$swal({
                                title: this.$vue.$t("notifications.logged_out", {
                                    name: "You"
                                }),
                                icon: "info",
                                confirmButtonText: this.$vue.$t("ok")
                            })
                        }
                    }, {
                        key: C.CONNECTING,
                        value: function() {
                            this.$accessor.setConnnecting()
                        }
                    }, {
                        key: C.CONNECTED,
                        value: function() {
                            this.$accessor.user.setMember(this.id), this.$accessor.setConnected(!0), this.$accessor.setConnected(!0), this.$vue.$notify({
                                group: "neko",
                                type: "success",
                                title: this.$vue.$t("connection.success"),
                                duration: 5e3,
                                speed: 1e3
                            })
                        }
                    }, {
                        key: C.DISCONNECTED,
                        value: function(e) {
                            this.cleanup(), this.$vue.$notify({
                                group: "neko",
                                type: "error",
                                title: this.$vue.$t("disconnected"),
                                text: e ? e.message : void 0,
                                duration: 5e3,
                                speed: 1e3
                            })
                        }
                    }, {
                        key: C.TRACK,
                        value: function(e) {
                            var t = e.track,
                                n = e.streams;
                            "audio" !== t.kind && (this.$accessor.video.addTrack([t, n[0]]), this.$accessor.video.setStream(0))
                        }
                    }, {
                        key: C.DATA,
                        value: function(e) {}
                    }, {
                        key: C.SYSTEM.DISCONNECT,
                        value: function(e) {
                            var t = e.message;
                            this.onDisconnected(new Error(t)), this.$vue.$swal({
                                title: this.$vue.$t("disconnected"),
                                text: t,
                                icon: "error",
                                confirmButtonText: this.$vue.$t("ok")
                            })
                        }
                    }, {
                        key: C.MEMBER.LIST,
                        value: function(e) {
                            var t = e.members;
                            this.$accessor.user.setMembers(t), this.$accessor.chat.newMessage({
                                id: this.id,
                                content: this.$vue.$t("connected"),
                                type: "event",
                                created: new Date
                            })
                        }
                    }, {
                        key: C.MEMBER.CONNECTED,
                        value: function(e) {
                            this.$accessor.user.addMember(e), e.id !== this.id && this.$accessor.chat.newMessage({
                                id: e.id,
                                content: this.$vue.$t("connected"),
                                type: "event",
                                created: new Date
                            })
                        }
                    }, {
                        key: C.MEMBER.DISCONNECTED,
                        value: function(e) {
                            var t = e.id,
                                n = this.member(t);
                            n && (this.$accessor.chat.newMessage({
                                id: n.id,
                                content: this.$vue.$t("disconnected"),
                                type: "event",
                                created: new Date
                            }), this.$accessor.user.delMember(t))
                        }
                    }, {
                        key: C.CONTROL.LOCKED,
                        value: function(e) {
                            var t = e.id;
                            this.$accessor.remote.setHost(t);
                            var n = this.member(t);
                            n && (this.id === t && this.$vue.$notify({
                                group: "neko",
                                type: "info",
                                title: this.$vue.$t("notifications.controls_taken", {
                                    name: this.$vue.$t("you")
                                }),
                                duration: 5e3,
                                speed: 1e3
                            }), this.$accessor.chat.newMessage({
                                id: n.id,
                                content: this.$vue.$t("notifications.controls_taken", {
                                    name: ""
                                }),
                                type: "event",
                                created: new Date
                            }))
                        }
                    }, {
                        key: C.CONTROL.RELEASE,
                        value: function(e) {
                            var t = e.id;
                            this.$accessor.remote.reset();
                            var n = this.member(t);
                            n && (this.id === t && this.$vue.$notify({
                                group: "neko",
                                type: "info",
                                title: this.$vue.$t("notifications.controls_released", {
                                    name: this.$vue.$t("you")
                                }),
                                duration: 5e3,
                                speed: 1e3
                            }), this.$accessor.chat.newMessage({
                                id: n.id,
                                content: this.$vue.$t("notifications.controls_released"),
                                type: "event",
                                created: new Date
                            }))
                        }
                    }, {
                        key: C.CONTROL.REQUEST,
                        value: function(e) {
                            var t = e.id,
                                n = this.member(t);
                            n && this.$vue.$notify({
                                group: "neko",
                                type: "info",
                                title: this.$vue.$t("notifications.controls_has", {
                                    name: n.displayname
                                }),
                                text: this.$vue.$t("notifications.controls_has_alt"),
                                duration: 5e3,
                                speed: 1e3
                            })
                        }
                    }, {
                        key: C.CONTROL.REQUESTING,
                        value: function(e) {
                            var t = e.id,
                                n = this.member(t);
                            n && !n.ignored && this.$vue.$notify({
                                group: "neko",
                                type: "info",
                                title: this.$vue.$t("notifications.controls_requesting", {
                                    name: n.displayname
                                }),
                                duration: 5e3,
                                speed: 1e3
                            })
                        }
                    }, {
                        key: C.CONTROL.GIVE,
                        value: function(e) {
                            var t = e.id,
                                n = e.target,
                                o = this.member(n);
                            o && (this.$accessor.remote.setHost(o), this.$accessor.chat.newMessage({
                                id: t,
                                content: this.$vue.$t("notifications.controls_given", {
                                    name: o.id == this.id ? this.$vue.$t("you") : o.displayname
                                }),
                                type: "event",
                                created: new Date
                            }))
                        }
                    }, {
                        key: C.CONTROL.CLIPBOARD,
                        value: function(e) {
                            var t = e.text;
                            this.$accessor.remote.setClipboard(t)
                        }
                    }, {
                        key: C.CHAT.MESSAGE,
                        value: function(e) {
                            var t = e.id,
                                n = e.content,
                                o = this.member(t);
                            o && !o.ignored && this.$accessor.chat.newMessage({
                                id: t,
                                content: n,
                                type: "text",
                                created: new Date
                            })
                        }
                    }, {
                        key: C.CHAT.EMOTE,
                        value: function(e) {
                            var t = e.id,
                                n = e.emote,
                                o = this.member(t);
                            o && !o.ignored && this.$accessor.chat.newEmote({
                                type: n
                            })
                        }
                    }, {
                        key: C.SCREEN.CONFIGURATIONS,
                        value: function(e) {
                            var t = e.configurations;
                            this.$accessor.video.setConfigurations(t)
                        }
                    }, {
                        key: C.SCREEN.RESOLUTION,
                        value: function(e) {
                            var t = e.id,
                                n = e.width,
                                o = e.height,
                                s = e.rate;
                            if (this.$accessor.video.setResolution({
                                    width: n,
                                    height: o,
                                    rate: s
                                }), t) {
                                var i = this.member(t);
                                i && !i.ignored && this.$accessor.chat.newMessage({
                                    id: t,
                                    content: this.$vue.$t("notifications.resolution", {
                                        width: n,
                                        height: o,
                                        rate: s
                                    }),
                                    type: "event",
                                    created: new Date
                                })
                            }
                        }
                    }, {
                        key: C.ADMIN.BAN,
                        value: function(e) {
                            var t = e.id,
                                n = e.target;
                            if (n) {
                                var o = this.member(n);
                                o && this.$accessor.chat.newMessage({
                                    id: t,
                                    content: this.$vue.$t("notifications.banned", {
                                        name: o.id == this.id ? this.$vue.$t("you") : o.displayname
                                    }),
                                    type: "event",
                                    created: new Date
                                })
                            }
                        }
                    }, {
                        key: C.ADMIN.KICK,
                        value: function(e) {
                            var t = e.id,
                                n = e.target;
                            if (n) {
                                var o = this.member(n);
                                o && this.$accessor.chat.newMessage({
                                    id: t,
                                    content: this.$vue.$t("notifications.kicked", {
                                        name: o.id == this.id ? this.$vue.$t("you") : o.displayname
                                    }),
                                    type: "event",
                                    created: new Date
                                })
                            }
                        }
                    }, {
                        key: C.ADMIN.MUTE,
                        value: function(e) {
                            var t = e.id,
                                n = e.target;
                            if (n) {
                                this.$accessor.user.setMuted({
                                    id: n,
                                    muted: !0
                                });
                                var o = this.member(n);
                                o && this.$accessor.chat.newMessage({
                                    id: t,
                                    content: this.$vue.$t("notifications.muted", {
                                        name: o.id == this.id ? this.$vue.$t("you") : o.displayname
                                    }),
                                    type: "event",
                                    created: new Date
                                })
                            }
                        }
                    }, {
                        key: C.ADMIN.UNMUTE,
                        value: function(e) {
                            var t = e.id,
                                n = e.target;
                            if (n) {
                                this.$accessor.user.setMuted({
                                    id: n,
                                    muted: !1
                                });
                                var o = this.member(n);
                                o && this.$accessor.chat.newMessage({
                                    id: t,
                                    content: this.$vue.$t("notifications.unmuted", {
                                        name: o.id == this.id ? this.$vue.$t("you") : o.displayname
                                    }),
                                    type: "event",
                                    created: new Date
                                })
                            }
                        }
                    }, {
                        key: C.ADMIN.LOCK,
                        value: function(e) {
                            var t = e.id;
                            this.$accessor.setLocked(!0), this.$accessor.chat.newMessage({
                                id: t,
                                content: this.$vue.$t("notifications.room_locked"),
                                type: "event",
                                created: new Date
                            })
                        }
                    }, {
                        key: C.ADMIN.UNLOCK,
                        value: function(e) {
                            var t = e.id;
                            this.$accessor.setLocked(!1), this.$accessor.chat.newMessage({
                                id: t,
                                content: this.$vue.$t("notifications.room_unlocked"),
                                type: "event",
                                created: new Date
                            })
                        }
                    }, {
                        key: C.ADMIN.CONTROL,
                        value: function(e) {
                            var t = e.id,
                                n = e.target;
                            if (this.$accessor.remote.setHost(t), n) {
                                var o = this.member(n);
                                o && this.$accessor.chat.newMessage({
                                    id: t,
                                    content: this.$vue.$t("notifications.controls_taken_steal", {
                                        name: o.id == this.id ? this.$vue.$t("you") : o.displayname
                                    }),
                                    type: "event",
                                    created: new Date
                                })
                            } else this.$accessor.chat.newMessage({
                                id: t,
                                content: this.$vue.$t("notifications.controls_taken_force"),
                                type: "event",
                                created: new Date
                            })
                        }
                    }, {
                        key: C.ADMIN.RELEASE,
                        value: function(e) {
                            var t = e.id,
                                n = e.target;
                            if (this.$accessor.remote.reset(), n) {
                                var o = this.member(n);
                                o && this.$accessor.chat.newMessage({
                                    id: t,
                                    content: this.$vue.$t("notifications.controls_released_steal", {
                                        name: o.id == this.id ? this.$vue.$t("you") : o.displayname
                                    }),
                                    type: "event",
                                    created: new Date
                                })
                            } else this.$accessor.chat.newMessage({
                                id: t,
                                content: this.$vue.$t("notifications.controls_released_force"),
                                type: "event",
                                created: new Date
                            })
                        }
                    }, {
                        key: C.ADMIN.GIVE,
                        value: function(e) {
                            var t = e.id,
                                n = e.target;
                            if (n) {
                                var o = this.member(n);
                                o && (this.$accessor.remote.setHost(o), this.$accessor.chat.newMessage({
                                    id: t,
                                    content: this.$vue.$t("notifications.controls_given", {
                                        name: o.id == this.id ? this.$vue.$t("you") : o.displayname
                                    }),
                                    type: "event",
                                    created: new Date
                                }))
                            }
                        }
                    }, {
                        key: "member",
                        value: function(e) {
                            return this.$accessor.user.members[e]
                        }
                    }]), n
                }(E),
                M = {
                    install: function(e) {
                        window.$client = (new x).on("error", window.$log.error).on("warn", window.$log.warn).on("info", window.$log.info).on("debug", window.$log.debug), e.prototype.$client = window.$client
                    }
                },
                N = M,
                D = n("bc3a"),
                S = n.n(D),
                T = {
                    install: function(e) {
                        window.$http = S.a, e.prototype.$http = window.$http
                    }
                },
                A = T,
                R = n("3dd1"),
                P = n.n(R),
                L = function() {
                    function e() {
                        Object(g["a"])(this, e)
                    }
                    return Object(y["a"])(e, null, [{
                        key: "install",
                        value: function(e, t) {
                            var n, o = function() {
                                for (var e = arguments.length, n = new Array(e), o = 0; o < e; o++) n[o] = arguments[o];
                                if (t) {
                                    var s = P.a.mixin(t);
                                    return s.fire.apply(s, n)
                                }
                                return P.a.fire.apply(P.a, n)
                            };
                            for (n in P.a) Object.prototype.hasOwnProperty.call(P.a, n) && "function" === typeof P.a[n] && (o[n] = function(e) {
                                return function() {
                                    for (var t = arguments.length, n = new Array(t), o = 0; o < t; o++) n[o] = arguments[o];
                                    return P.a[e].apply(P.a, n)
                                }
                            }(n));
                            e["swal"] = o, e.prototype.hasOwnProperty("$swal") || (e.prototype.$swal = o)
                        }
                    }]), e
                }(),
                I = L,
                U = n("1209"),
                K = {
                    install: function(e) {
                        e.prototype.$anime = U["a"]
                    }
                },
                G = K,
                B = n("a925"),
                F = "Chat",
                H = "Settings",
                V = "logout",
                q = "this browser does not support webrtc",
                Q = "You are logged in as an admin",
                z = "You",
                Y = "ok",
                W = "connected",
                J = "disconnected",
                X = {
                    title: "Please Login",
                    displayname: "Display Name",
                    password: "Password",
                    connect: "Connect"
                },
                Z = {
                    ignore: "Ignore",
                    unignore: "Unignore",
                    mute: "Mute",
                    unmute: "Unmute",
                    release: "Force Release Controls",
                    take: "Force Take Controls",
                    give: "Give Controls",
                    kick: "Kick",
                    ban: "Ban IP"
                },
                ee = {
                    release: "Release Controls",
                    request: "Request Controls",
                    lock: "Lock Controls",
                    unlock: "Unlock Controls"
                },
                te = {
                    lock: "Lock Room",
                    unlock: "Unlock Room",
                    locked: "Room Locked",
                    unlocked: "Room Unlocked"
                },
                ne = {
                    scroll: "Scroll Sensitivity",
                    scroll_invert: "Invert Scroll",
                    autoplay: "Autoplay Video",
                    ignore_emotes: "Ignore Emotes",
                    chat_sound: "Play Chat Sound"
                },
                oe = {
                    success: "Successfully connected"
                },
                se = {
                    logged_out: "{name} logged out!",
                    controls_taken: "{name} took the controls",
                    controls_taken_force: "force took the controls",
                    controls_taken_steal: "took the controls from {name}",
                    controls_released: "{name} released the controls",
                    controls_released_force: "force released the controls",
                    controls_released_steal: "released the controls from {name}",
                    controls_given: "gave the controls to {name}",
                    controls_has: "{name} has the controls",
                    controls_has_alt: "But I let them know you wanted it",
                    controls_requesting: "{name} is requesting the controls",
                    resolution: "changed the resolution to {width}x{height}@{rate}",
                    banned: "banned {name}",
                    kicked: "kicked {name}",
                    muted: "muted {name}",
                    unmuted: "unmuted {name}",
                    room_locked: "locked the room",
                    room_unlocked: "unlocked the room"
                },
                ie = {
                    en: o
                };
            d["default"].use(B["a"]);
            var ae = new B["a"]({
                    locale: "en",
                    messages: ie
                }),
                ce = n("2f62"),
                re = n("aba1"),
                ue = (n("25f0"), n("53ca"));
    
            function le(e, t) {
                switch (Object(ue["a"])(t)) {
                    case "number":
                        localStorage.setItem(e, t.toString());
                        break;
                    case "string":
                        localStorage.setItem(e, t);
                        break;
                    case "boolean":
                        localStorage.setItem(e, t ? "1" : "0");
                        break
                }
            }
    
            function de(e, t) {
                var n = localStorage.getItem(e);
                if (n) switch (Object(ue["a"])(t)) {
                    case "number":
                        return parseInt(n);
                    case "string":
                        return n;
                    case "boolean":
                        return "1" === n;
                    default:
                        return t
                }
                return t
            }
            n("4de4"), n("b64b");
            var he = n("3835"),
                fe = !0,
                me = function() {
                    return {
                        index: -1,
                        tracks: [],
                        streams: [],
                        configurations: [],
                        width: 1280,
                        height: 720,
                        rate: 30,
                        horizontal: 16,
                        vertical: 9,
                        volume: de("volume", 100),
                        muted: de("muted", !1),
                        playing: !1,
                        playable: !1
                    }
                },
                pe = Object(re["b"])(me, {
                    stream: function(e) {
                        return e.streams[e.index]
                    },
                    track: function(e) {
                        return e.tracks[e.index]
                    },
                    resolution: function(e) {
                        return {
                            w: e.width,
                            h: e.height
                        }
                    }
                }),
                ve = Object(re["c"])(me, {
                    play: function(e) {
                        e.playable && (e.playing = !0)
                    },
                    pause: function(e) {
                        e.playable && (e.playing = !1)
                    },
                    togglePlay: function(e) {
                        e.playable && (e.playing = !e.playing)
                    },
                    setMuted: function(e, t) {
                        e.muted = t, le("mute", t)
                    },
                    toggleMute: function(e) {
                        e.muted = !e.muted, le("mute", e.muted)
                    },
                    setPlayable: function(e, t) {
                        !t && e.playing && (e.playing = !1), e.playable = t
                    },
                    setResolution: function(e, t) {
                        var n = t.width,
                            o = t.height,
                            s = t.rate;
                        if (e.width = n, e.height = o, e.rate = s, !(0 == o && 0 == n || 0 == o && 0 != n || 0 != o && 0 == n)) {
                            if (o == n) return {
                                horizontal: 1,
                                vertical: 1
                            };
                            var i = n,
                                a = o,
                                c = -1;
                            o > n && (i = o, a = n);
                            while (-1 == c) {
                                var r = i % a;
                                0 == r ? c = a : (i = a, a = r)
                            }
                            e.horizontal = n / c, e.vertical = o / c
                        }
                    },
                    setConfigurations: function(e, t) {
                        for (var n = [], o = 0, s = Object.keys(t); o < s.length; o++) {
                            var i = s[o],
                                a = t[i],
                                c = a.width,
                                r = a.height,
                                u = a.rates;
                            if (c >= 600 && r >= 300)
                                for (var l = 0, d = Object.keys(u); l < d.length; l++) {
                                    var h = d[l],
                                        f = u[h];
                                    30 !== f && 60 !== f || n.push({
                                        width: c,
                                        height: r,
                                        rate: f
                                    })
                                }
                        }
                        e.configurations = n.sort((function(e, t) {
                            return t.width === e.width && t.height == e.height ? t.rate - e.rate : t.width === e.width ? t.height - e.height : t.width - e.width
                        }))
                    },
                    setVolume: function(e, t) {
                        e.volume = t, le("volume", t)
                    },
                    setStream: function(e, t) {
                        e.index = t
                    },
                    addTrack: function(e, t) {
                        var n = Object(he["a"])(t, 2),
                            o = n[0],
                            s = n[1];
                        e.tracks = e.tracks.concat([o]), e.streams = e.streams.concat([s])
                    },
                    delTrack: function(e, t) {
                        e.streams = e.streams.filter((function(e, n) {
                            return n !== t
                        })), e.tracks = e.tracks.filter((function(e, n) {
                            return n !== t
                        }))
                    },
                    reset: function(e) {
                        e.index = -1, e.tracks = [], e.streams = [], e.configurations = [], e.width = 1280, e.height = 720, e.rate = 30, e.horizontal = 16, e.vertical = 9, e.playing = !1, e.playable = !1
                    }
                }),
                ge = Object(re["a"])({
                    state: me,
                    getters: pe,
                    mutations: ve
                }, {
                    screenConfiguations: function(e) {
                        e.state;
                        tt.connected && tt.user.admin && $client.sendMessage(C.SCREEN.CONFIGURATIONS)
                    },
                    screenGet: function(e) {
                        e.state;
                        tt.connected && $client.sendMessage(C.SCREEN.RESOLUTION)
                    },
                    screenSet: function(e, t) {
                        e.state;
                        tt.connected && tt.user.admin && $client.sendMessage(C.SCREEN.SET, t)
                    }
                }),
                ye = n("ade3");
    
            function be(e) {
                for (var t = "", n = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789", o = n.length, s = 0; s < e; s++) t += n.charAt(Math.floor(Math.random() * o));
                return t
            }
            var ke = !0,
                _e = function() {
                    return {
                        history: [],
                        emotes: {}
                    }
                },
                $e = Object(re["b"])(_e, {}),
                Oe = Object(re["c"])(_e, {
                    addMessage: function(e, t) {
                        e.history = e.history.concat([t])
                    },
                    addEmote: function(e, t) {
                        var n = t.id,
                            o = t.emote;
                        e.emotes = Object($["a"])({}, e.emotes, Object(ye["a"])({}, n, o))
                    },
                    delEmote: function(e, t) {
                        var n = Object($["a"])({}, e.emotes);
                        delete n[t], e.emotes = n
                    },
                    reset: function(e) {
                        e.emotes = {}, e.history = []
                    }
                }),
                we = Object(re["a"])({
                    state: _e,
                    getters: $e,
                    mutations: Oe
                }, {
                    newEmote: function(e, t) {
                        if (!tt.settings.ignore_emotes && "hidden" !== document.visibilityState) {
                            var n = be(10);
                            tt.chat.addEmote({
                                id: n,
                                emote: t
                            })
                        }
                    },
                    newMessage: function(e, t) {
                        e.state;
                        tt.settings.chat_sound && new Audio("chat.mp3").play().catch(console.error), tt.chat.addMessage(t)
                    },
                    sendMessage: function(e, t) {
                        tt.connected && !tt.user.muted && $client.sendMessage(C.CHAT.MESSAGE, {
                            content: t
                        })
                    },
                    sendEmote: function(e, t) {
                        tt.connected && !tt.user.muted && $client.sendMessage(C.CHAT.EMOTE, {
                            emote: t
                        })
                    }
                }),
                je = !0,
                Ce = function() {
                    return {
                        id: "",
                        clipboard: "",
                        locked: !1
                    }
                },
                Ee = Object(re["b"])(Ce, {
                    hosting: function(e, t, n) {
                        return n.user.id === e.id
                    },
                    hosted: function(e, t, n) {
                        return "" !== e.id
                    },
                    host: function(e, t, n) {
                        return n.user.member[e.id] || null
                    }
                }),
                xe = Object(re["c"])(Ce, {
                    setHost: function(e, t) {
                        e.id = "string" === typeof t ? t : t.id
                    },
                    setClipboard: function(e, t) {
                        e.clipboard = t
                    },
                    setLocked: function(e, t) {
                        e.locked = t
                    },
                    reset: function(e) {
                        e.id = "", e.clipboard = "", e.locked = !1
                    }
                }),
                Me = Object(re["a"])({
                    state: Ce,
                    getters: Ee,
                    mutations: xe
                }, {
                    sendClipboard: function(e, t) {
                        var n = e.getters;
                        tt.connected && n.hosting && $client.sendMessage(C.CONTROL.CLIPBOARD, {
                            text: t
                        })
                    },
                    toggle: function(e) {
                        var t = e.getters;
                        tt.connected && (t.hosting ? $client.sendMessage(C.CONTROL.RELEASE) : $client.sendMessage(C.CONTROL.REQUEST))
                    },
                    request: function(e) {
                        var t = e.getters;
                        tt.connected && t.hosting && $client.sendMessage(C.CONTROL.REQUEST)
                    },
                    release: function(e) {
                        var t = e.getters;
                        tt.connected && !t.hosting && $client.sendMessage(C.CONTROL.RELEASE)
                    },
                    give: function(e, t) {
                        var n = e.getters;
                        tt.connected && n.hosting && ("string" === typeof t && (t = tt.user.members[t]), t && $client.sendMessage(C.CONTROL.GIVE, {
                            id: t.id
                        }))
                    },
                    adminControl: function() {
                        tt.connected && tt.user.admin && $client.sendMessage(C.ADMIN.CONTROL)
                    },
                    adminRelease: function() {
                        tt.connected && tt.user.admin && $client.sendMessage(C.ADMIN.RELEASE)
                    },
                    adminGive: function(e, t) {
                        e.getters;
                        tt.connected && ("string" === typeof t && (t = tt.user.members[t]), t && $client.sendMessage(C.ADMIN.GIVE, {
                            id: t.id
                        }))
                    }
                }),
                Ne = n("b85c"),
                De = !0,
                Se = function() {
                    return {
                        id: "",
                        members: {}
                    }
                },
                Te = Object(re["b"])(Se, {
                    member: function(e) {
                        return e.members[e.id] || null
                    },
                    admin: function(e) {
                        return !!e.members[e.id] && e.members[e.id].admin
                    },
                    muted: function(e) {
                        return !!e.members[e.id] && e.members[e.id].muted
                    }
                }),
                Ae = Object(re["c"])(Se, {
                    setIgnored: function(e, t) {
                        var n = t.id,
                            o = t.ignored;
                        e.members[n] = Object($["a"])({}, e.members[n], {
                            ignored: o
                        })
                    },
                    setMuted: function(e, t) {
                        var n = t.id,
                            o = t.muted;
                        e.members[n] = Object($["a"])({}, e.members[n], {
                            muted: o
                        })
                    },
                    setMembers: function(e, t) {
                        var n, o = {},
                            s = Object(Ne["a"])(t);
                        try {
                            for (s.s(); !(n = s.n()).done;) {
                                var i = n.value;
                                o[i.id] = Object($["a"])({
                                    connected: !0
                                }, i)
                            }
                        } catch (a) {
                            s.e(a)
                        } finally {
                            s.f()
                        }
                        e.members = o
                    },
                    setMember: function(e, t) {
                        e.id = t
                    },
                    addMember: function(e, t) {
                        e.members = Object($["a"])({}, e.members, Object(ye["a"])({}, t.id, Object($["a"])({
                            connected: !0
                        }, t)))
                    },
                    delMember: function(e, t) {
                        e.members[t] = Object($["a"])({}, e.members[t], {
                            connected: !1
                        })
                    },
                    reset: function(e) {
                        e.members = {}
                    }
                }),
                Re = Object(re["a"])({
                    state: Se,
                    getters: Te,
                    mutations: Ae
                }, {
                    ban: function(e, t) {
                        var n = e.state;
                        tt.connected && tt.user.admin && ("string" === typeof t && (t = n.members[t]), t && $client.sendMessage(C.ADMIN.BAN, {
                            id: t.id
                        }))
                    },
                    kick: function(e, t) {
                        var n = e.state;
                        tt.connected && tt.user.admin && ("string" === typeof t && (t = n.members[t]), t && $client.sendMessage(C.ADMIN.KICK, {
                            id: t.id
                        }))
                    },
                    mute: function(e, t) {
                        var n = e.state;
                        tt.connected && tt.user.admin && ("string" === typeof t && (t = n.members[t]), t && $client.sendMessage(C.ADMIN.MUTE, {
                            id: t.id
                        }))
                    },
                    unmute: function(e, t) {
                        var n = e.state;
                        tt.connected && tt.user.admin && ("string" === typeof t && (t = n.members[t]), t && $client.sendMessage(C.ADMIN.UNMUTE, {
                            id: t.id
                        }))
                    }
                }),
                Pe = !0,
                Le = function() {
                    return {
                        scroll: de("scroll", 10),
                        scroll_invert: de("scroll_invert", !0),
                        autoplay: de("autoplay", !0),
                        ignore_emotes: de("ignore_emotes", !1),
                        chat_sound: de("chat_sound", !0)
                    }
                },
                Ie = Object(re["b"])(Le, {}),
                Ue = Object(re["c"])(Le, {
                    setScroll: function(e, t) {
                        e.scroll = t, le("scroll", t)
                    },
                    setInvert: function(e, t) {
                        e.scroll_invert = t, le("scroll_invert", t)
                    },
                    setAutoplay: function(e, t) {
                        e.autoplay = t, le("autoplay", t)
                    },
                    setIgnore: function(e, t) {
                        e.ignore_emotes = t, le("ignore_emotes", t)
                    },
                    setSound: function(e, t) {
                        e.chat_sound = t, le("chat_sound", t)
                    }
                }),
                Ke = !0,
                Ge = function() {
                    return {
                        side: de("side", !1),
                        tab: de("tab", "chat"),
                        about: !1,
                        about_page: ""
                    }
                },
                Be = Object(re["b"])(Ge, {}),
                Fe = Object(re["c"])(Ge, {
                    setTab: function(e, t) {
                        e.tab = t, le("tab", t)
                    },
                    setAbout: function(e, t) {
                        e.about_page = t
                    },
                    toggleAbout: function(e) {
                        e.about = !e.about
                    },
                    toggleSide: function(e) {
                        e.side = !e.side, le("side", e.side)
                    }
                }),
                He = Object(re["a"])({
                    state: Ge,
                    getters: Be,
                    mutations: Fe
                }, {}),
                Ve = (n("2532"), !0),
                qe = function() {
                    return {
                        groups: [{
                            id: "recent",
                            name: "Recent",
                            list: JSON.parse(de("emoji_recent", "[]"))
                        }],
                        keywords: {},
                        list: []
                    }
                },
                Qe = Object(re["b"])(qe, {}),
                ze = Object(re["c"])(qe, {
                    setRecent: function(e, t) {
                        e.groups[0].list.includes(t) || (e.groups[0].list.length > 30 && e.groups[0].list.shift(), e.groups[0].list.push(t), le("emoji_recent", JSON.stringify(e.groups[0].list)))
                    },
                    addGroup: function(e, t) {
                        e.groups.push(t)
                    },
                    setKeywords: function(e, t) {
                        e.keywords = t
                    },
                    setList: function(e, t) {
                        e.list = t
                    }
                }),
                Ye = Object(re["a"])({
                    state: qe,
                    getters: Qe,
                    mutations: ze
                }, {
                    initialise: function() {
                        $http.get("/emoji.json").then((function(e) {
                            var t, n = Object(Ne["a"])(e.data.groups);
                            try {
                                for (n.s(); !(t = n.n()).done;) {
                                    var o = t.value;
                                    tt.emoji.addGroup(o)
                                }
                            } catch (s) {
                                n.e(s)
                            } finally {
                                n.f()
                            }
                            tt.emoji.setList(e.data.list), tt.emoji.setKeywords(e.data.keywords)
                        })).catch(console.error)
                    }
                }),
                We = function() {
                    return {
                        displayname: de("displayname", ""),
                        password: de("password", ""),
                        active: !1,
                        connecting: !1,
                        connected: !1,
                        locked: !1
                    }
                },
                Je = Object(re["c"])(We, {
                    setActive: function(e) {
                        e.active = !0
                    },
                    setLogin: function(e, t) {
                        var n = t.displayname,
                            o = t.password;
                        e.displayname = n, e.password = o
                    },
                    setLocked: function(e, t) {
                        e.locked = t
                    },
                    setConnnecting: function(e) {
                        e.connected = !1, e.connecting = !0
                    },
                    setConnected: function(e, t) {
                        e.connected = t, e.connecting = !1, t && (le("displayname", e.displayname), le("password", e.password))
                    }
                }),
                Xe = Object(re["a"])({
                    state: We,
                    mutations: Je
                }, {
                    initialise: function(e) {
                        tt.emoji.initialise()
                    },
                    lock: function() {
                        tt.connected && tt.user.admin && $client.sendMessage(C.ADMIN.LOCK)
                    },
                    unlock: function() {
                        tt.connected && tt.user.admin && $client.sendMessage(C.ADMIN.UNLOCK)
                    },
                    login: function(e, t) {
                        e.state;
                        var n = t.displayname,
                            o = t.password;
                        tt.setLogin({
                            displayname: n,
                            password: o
                        }), $client.login(o, n)
                    },
                    logout: function(e) {
                        e.state;
                        tt.setLogin({
                            displayname: "",
                            password: ""
                        }), le("displayname", ""), le("password", ""), $client.logout()
                    }
                }),
                Ze = {
                    state: We,
                    mutations: Je,
                    actions: Xe,
                    modules: {
                        video: s,
                        chat: i,
                        user: c,
                        remote: a,
                        settings: r,
                        client: u,
                        emoji: l
                    }
                };
            d["default"].use(ce["a"]);
            var et = new ce["a"].Store(Ze),
                tt = Object(re["d"])(et, Ze);
            d["default"].prototype.$accessor = tt;
            var nt = et,
                ot = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        class: [e.side ? "expanded" : ""],
                        attrs: {
                            id: "neko"
                        }
                    }, [e.$client.supported ? [n("main", {
                        staticClass: "neko-main"
                    }, [n("div", {
                        staticClass: "header-container"
                    }, [n("neko-header")], 1), n("div", {
                        staticClass: "video-container"
                    }, [n("neko-video", {
                        ref: "video"
                    })], 1), n("div", {
                        staticClass: "room-container"
                    }, [n("neko-members"), n("div", {
                        staticClass: "room-menu"
                    }, [n("div", {
                        staticClass: "settings"
                    }, [n("neko-menu")], 1), n("div", {
                        staticClass: "controls"
                    }, [n("neko-controls")], 1), n("div", {
                        staticClass: "emotes"
                    }, [n("neko-emotes")], 1)])], 1)]), e.side ? n("neko-side") : e._e(), e.connected ? e._e() : n("neko-connect"), e.about ? n("neko-about") : e._e(), n("notifications", {
                        staticStyle: {
                            top: "50px"
                        },
                        attrs: {
                            group: "neko",
                            position: "top left"
                        }
                    })] : [n("neko-unsupported")]], 2)
                },
                st = [],
                it = n("9ab4"),
                at = n("60a3"),
                ct = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        staticClass: "connect"
                    }, [n("div", {
                        staticClass: "window"
                    }, [e._m(0), e.connecting ? e._e() : n("form", {
                        staticClass: "message",
                        on: {
                            submit: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.connect(t)
                            }
                        }
                    }, [n("span", [e._v(e._s(e.$t("connect.title")))]), n("input", {
                        directives: [{
                            name: "model",
                            rawName: "v-model",
                            value: e.displayname,
                            expression: "displayname"
                        }],
                        attrs: {
                            type: "text",
                            placeholder: e.$t("connect.displayname")
                        },
                        domProps: {
                            value: e.displayname
                        },
                        on: {
                            input: function(t) {
                                t.target.composing || (e.displayname = t.target.value)
                            }
                        }
                    }), n("input", {
                        directives: [{
                            name: "model",
                            rawName: "v-model",
                            value: e.password,
                            expression: "password"
                        }],
                        attrs: {
                            type: "password",
                            placeholder: e.$t("connect.password")
                        },
                        domProps: {
                            value: e.password
                        },
                        on: {
                            input: function(t) {
                                t.target.composing || (e.password = t.target.value)
                            }
                        }
                    }), n("button", {
                        attrs: {
                            type: "submit"
                        },
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.login(t)
                            }
                        }
                    }, [e._v(" " + e._s(e.$t("connect.connect")) + " ")])]), e.connecting ? n("div", {
                        staticClass: "loader"
                    }, [n("div", {
                        staticClass: "bounce1"
                    }), n("div", {
                        staticClass: "bounce2"
                    })]) : e._e()])])
                },
                rt = [function() {
                    var e = this,
                        t = e.$createElement,
                        o = e._self._c || t;
                    return o("div", {
                        staticClass: "logo"
                    }, [ o("span", [o("b", [e._v("Prov")]), e._v("Edge")])])
                }],
                ut = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        var e;
                        return Object(g["a"])(this, n), e = t.apply(this, arguments), e.displayname = "", e.password = "", e
                    }
                    return Object(y["a"])(n, [{
                        key: "mounted",
                        value: function() {
                            "" !== this.$accessor.displayname && "" !== this.$accessor.password && this.$accessor.login({
                                displayname: this.$accessor.displayname,
                                password: this.$accessor.password
                            })
                        }
                    }, {
                        key: "login",
                        value: function() {
                            this.$accessor.login({
                                displayname: this.displayname,
                                password: this.password
                            })
                        }
                    }, {
                        key: "connecting",
                        get: function() {
                            return this.$accessor.connecting
                        }
                    }]), n
                }(at["d"]);
            ut = Object(it["a"])([Object(at["a"])({
                name: "neko-connect"
            })], ut);
            var lt = ut,
                dt = lt,
                ht = (n("0db9"), n("2877")),
                ft = Object(ht["a"])(dt, ct, rt, !1, null, "2b43416a", null),
                mt = ft.exports,
                pt = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        ref: "component",
                        staticClass: "video"
                    }, [n("div", {
                        ref: "player",
                        staticClass: "player"
                    }, [n("div", {
                        ref: "container",
                        staticClass: "player-container"
                    }, [n("video", {
                        ref: "video"
                    }), n("div", {
                        staticClass: "emotes"
                    }, [e._l(e.emotes, (function(e, t) {
                        return [n("neko-emote", {
                            key: t,
                            attrs: {
                                id: t
                            }
                        })]
                    }))], 2), n("div", {
                        ref: "overlay",
                        staticClass: "overlay",
                        attrs: {
                            tabindex: "0"
                        },
                        on: {
                            click: function(e) {
                                e.stopPropagation(), e.preventDefault()
                            },
                            contextmenu: function(e) {
                                e.stopPropagation(), e.preventDefault()
                            },
                            wheel: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.onWheel(t)
                            },
                            mousemove: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.onMouseMove(t)
                            },
                            mousedown: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.onMouseDown(t)
                            },
                            mouseup: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.onMouseUp(t)
                            },
                            mouseenter: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.onMouseEnter(t)
                            },
                            mouseleave: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.onMouseLeave(t)
                            },
                            keydown: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.onKeyDown(t)
                            },
                            keyup: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.onKeyUp(t)
                            }
                        }
                    }), e.playing ? e._e() : n("div", {
                        staticClass: "player-overlay"
                    }, [e.playable ? n("i", {
                        staticClass: "fas fa-play-circle",
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.toggle(t)
                            }
                        }
                    }) : e._e()]), n("div", {
                        ref: "aspect",
                        staticClass: "player-aspect"
                    })]), e.fullscreen ? e._e() : n("ul", {
                        staticClass: "video-menu"
                    }, [n("li", [n("i", {
                        staticClass: "fas fa-expand",
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.requestFullscreen(t)
                            }
                        }
                    })]), e.admin ? n("li", [n("i", {
                        staticClass: "fas fa-desktop",
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.onResolution(t)
                            }
                        }
                    })]) : e._e()]), n("neko-resolution", {
                        ref: "resolution"
                    })], 1)])
                },
                vt = [],
                gt = (n("3ca3"), n("ddb0"), n("2b3d"), n("257e")),
                yt = n("6dd8"),
                bt = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        ref: "emote",
                        staticClass: "emote-container",
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.run(t)
                            }
                        }
                    }, [n("div", {
                        class: e.classes
                    }), n("div", {
                        class: e.classes
                    }), n("div", {
                        class: e.classes
                    }), n("div", {
                        class: e.classes
                    }), n("div", {
                        class: e.classes
                    }), n("div", {
                        class: e.classes
                    }), n("div", {
                        class: e.classes
                    })])
                },
                kt = [],
                _t = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        var e;
                        return Object(g["a"])(this, n), e = t.apply(this, arguments), e.classes = [], e
                    }
                    return Object(y["a"])(n, [{
                        key: "mounted",
                        value: function() {
                            var e = this,
                                t = 50,
                                n = 0,
                                o = [];
                            this.classes = ["emote", this.emote.type];
                            var s, i = Object(Ne["a"])(this.container.children);
                            try {
                                for (i.s(); !(s = i.n()).done;) {
                                    var a = s.value,
                                        c = a;
                                    c.style["left"] = "".concat(n % 2 ? this.$anime.random(0, t) : this.$anime.random(-t, 0), "%"), c.style["opacity"] = "0";
                                    var r = this.$anime({
                                        targets: a,
                                        keyframes: [{
                                            left: "".concat(n % 2 ? this.$anime.random(0, t) : this.$anime.random(-t, 0), "%"),
                                            opacity: 1
                                        }, {
                                            left: "".concat(n % 2 ? this.$anime.random(-t, 0) : this.$anime.random(0, t), "%"),
                                            opacity: .5
                                        }, {
                                            left: "".concat(n % 2 ? this.$anime.random(0, t) : this.$anime.random(-t, 0), "%"),
                                            opacity: 0
                                        }],
                                        elasticity: 600,
                                        rotate: this.$anime.random(-35, 35),
                                        top: "".concat(this.$anime.random(-200, -600), "%"),
                                        duration: this.$anime.random(1e3, 2e3),
                                        easing: "easeInOutQuad"
                                    });
                                    n++, o.push(r.finished)
                                }
                            } catch (u) {
                                i.e(u)
                            } finally {
                                i.f()
                            }
                            Promise.all(o).then((function() {
                                e.$emit("done", e.id), e.$accessor.chat.delEmote(e.id)
                            }))
                        }
                    }, {
                        key: "emote",
                        get: function() {
                            return this.$accessor.chat.emotes[this.id]
                        }
                    }]), n
                }(at["d"]);
            Object(it["a"])([Object(at["b"])({
                required: !0
            })], _t.prototype, "id", void 0), Object(it["a"])([Object(at["c"])("emote")], _t.prototype, "container", void 0), _t = Object(it["a"])([Object(at["a"])({
                name: "neko-emote"
            })], _t);
            var $t = _t,
                Ot = $t,
                wt = (n("1610"), Object(ht["a"])(Ot, bt, kt, !1, null, "7831f5d6", null)),
                jt = wt.exports,
                Ct = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("vue-context", {
                        ref: "context",
                        staticClass: "context"
                    }, [e._l(e.configurations, (function(t, o) {
                        return [n("li", {
                            key: o,
                            class: [t.width === e.width && t.height === e.height && t.rate === e.rate ? "active" : ""],
                            on: {
                                click: function(n) {
                                    return e.screenSet(t)
                                }
                            }
                        }, [n("i", {
                            staticClass: "fas fa-desktop"
                        }), n("span", [e._v(e._s(t.width) + "x" + e._s(t.height))]), n("small", [e._v(e._s(t.rate))])])]
                    }))], 2)
                },
                Et = [],
                xt = n("899b"),
                Mt = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        return Object(g["a"])(this, n), t.apply(this, arguments)
                    }
                    return Object(y["a"])(n, [{
                        key: "open",
                        value: function(e) {
                            this.context.open(e)
                        }
                    }, {
                        key: "screenSet",
                        value: function(e) {
                            this.$accessor.video.screenSet(e)
                        }
                    }, {
                        key: "width",
                        get: function() {
                            return this.$accessor.video.width
                        }
                    }, {
                        key: "height",
                        get: function() {
                            return this.$accessor.video.height
                        }
                    }, {
                        key: "rate",
                        get: function() {
                            return this.$accessor.video.rate
                        }
                    }, {
                        key: "configurations",
                        get: function() {
                            return this.$accessor.video.configurations
                        }
                    }]), n
                }(at["d"]);
            Object(it["a"])([Object(at["c"])("context")], Mt.prototype, "context", void 0), Mt = Object(it["a"])([Object(at["a"])({
                name: "neko-resolution",
                components: {
                    "vue-context": xt["a"]
                }
            })], Mt);
            var Nt = Mt,
                Dt = Nt,
                St = (n("3070"), Object(ht["a"])(Dt, Ct, Et, !1, null, "1ec2689c", null)),
                Tt = St.exports,
                At = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        var e;
                        return Object(g["a"])(this, n), e = t.apply(this, arguments), e.observer = new yt["a"](e.onResise.bind(Object(gt["a"])(e))), e.focused = !1, e.fullscreen = !1, e
                    }
                    return Object(y["a"])(n, [{
                        key: "onWidthChanged",
                        value: function(e) {
                            this.onResise()
                        }
                    }, {
                        key: "onHeightChanged",
                        value: function(e) {
                            this.onResise()
                        }
                    }, {
                        key: "onVolumeChanged",
                        value: function(e) {
                            this._video && (this._video.volume = this.volume / 100)
                        }
                    }, {
                        key: "onMutedChanged",
                        value: function(e) {
                            this._video && (this._video.muted = e)
                        }
                    }, {
                        key: "onStreamChanged",
                        value: function(e) {
                            this._video && e && ("srcObject" in this._video ? this._video.srcObject = e : this._video.src = window.URL.createObjectURL(this.stream))
                        }
                    }, {
                        key: "onPlayingChanged",
                        value: function(e) {
                            e ? this.play() : this.pause()
                        }
                    }, {
                        key: "onClipboardChanged",
                        value: function(e) {
                            navigator.clipboard && "function" === typeof navigator.clipboard.writeText && navigator.clipboard.writeText(e).catch(console.error)
                        }
                    }, {
                        key: "mounted",
                        value: function() {
                            var e = this;
                            this._container.addEventListener("resize", this.onResise), this.onVolumeChanged(this.volume), this.onStreamChanged(this.stream), this.onResise(), this.observer.observe(this._component), this._player.addEventListener("fullscreenchange", (function() {
                                e.fullscreen = null !== document.fullscreenElement, e.onResise()
                            })), this._video.addEventListener("canplaythrough", (function() {
                                e.$accessor.video.setPlayable(!0), e.autoplay && (document.hasFocus() && e.$accessor.active || (e.$accessor.video.setMuted(!0), e._video.muted = !0), e.$nextTick((function() {
                                    e.$accessor.video.play()
                                })))
                            })), this._video.addEventListener("ended", (function() {
                                e.$accessor.video.setPlayable(!1)
                            })), this._video.addEventListener("error", (function(t) {
                                e.$log.error(t.error), e.$accessor.video.setPlayable(!1)
                            })), document.addEventListener("focusin", this.onFocus.bind(this))
                        }
                    }, {
                        key: "beforeDestroy",
                        value: function() {
                            this.observer.disconnect(), this.$accessor.video.setPlayable(!1), document.removeEventListener("focusin", this.onFocus.bind(this))
                        }
                    }, {
                        key: "play",
                        value: function() {
                            var e = this;
                            if (this._video.paused && this.playable) try {
                                this._video.play().then((function() {
                                    e.onResise()
                                })).catch((function(t) {
                                    return e.$log.error
                                }))
                            } catch (t) {
                                this.$log.error(t)
                            }
                        }
                    }, {
                        key: "pause",
                        value: function() {
                            !this._video.paused && this.playable && this._video.pause()
                        }
                    }, {
                        key: "toggle",
                        value: function() {
                            this.playable && (this.playing ? this.$accessor.video.pause() : this.$accessor.video.play())
                        }
                    }, {
                        key: "requestFullscreen",
                        value: function() {
                            this._player.requestFullscreen(), this.onResise()
                        }
                    }, {
                        key: "onFocus",
                        value: function() {
                            var e = this;
                            document.hasFocus() && this.$accessor.active && this.hosting && navigator.clipboard && "function" === typeof navigator.clipboard.readText && navigator.clipboard.readText().then((function(t) {
                                e.clipboard !== t && (e.$accessor.remote.setClipboard(t), e.$accessor.remote.sendClipboard(t))
                            })).catch(this.$log.error)
                        }
                    }, {
                        key: "onMousePos",
                        value: function(e) {
                            var t = this.$accessor.video.resolution,
                                n = t.w,
                                o = t.h,
                                s = this._overlay.getBoundingClientRect();
                            this.$client.sendData("mousemove", {
                                x: Math.round(n / s.width * (e.clientX - s.left)),
                                y: Math.round(o / s.height * (e.clientY - s.top))
                            })
                        }
                    }, {
                        key: "onWheel",
                        value: function(e) {
                            if (this.hosting && !this.locked) {
                                this.onMousePos(e);
                                var t = e.deltaX,
                                    n = e.deltaY;
                                this.scroll_invert && (t *= -1, n *= -1), t = Math.min(Math.max(t, -this.scroll), this.scroll), n = Math.min(Math.max(n, -this.scroll), this.scroll), this.$client.sendData("wheel", {
                                    x: t,
                                    y: n
                                })
                            }
                        }
                    }, {
                        key: "onMouseDown",
                        value: function(e) {
                            this.hosting && !this.locked && (this.onMousePos(e), this.$client.sendData("mousedown", {
                                key: e.button
                            }))
                        }
                    }, {
                        key: "onMouseUp",
                        value: function(e) {
                            this.hosting && !this.locked && (this.onMousePos(e), this.$client.sendData("mouseup", {
                                key: e.button
                            }))
                        }
                    }, {
                        key: "onMouseMove",
                        value: function(e) {
                            this.hosting && !this.locked && this.onMousePos(e)
                        }
                    }, {
                        key: "onMouseEnter",
                        value: function(e) {
                            this._overlay.focus(), this.onFocus(), this.focused = !0
                        }
                    }, {
                        key: "onMouseLeave",
                        value: function(e) {
                            this.focused = !1
                        }
                    }, {
                        key: "getCode",
                        value: function(e) {
                            var t = e.keyCode;
                            return 59 === t && ";" === e.key && (t = 186), 61 === t && "=" === e.key && (t = 187), 173 === t && "-" === e.key && (t = 189), t
                        }
                    }, {
                        key: "onKeyDown",
                        value: function(e) {
                            this.focused && this.hosting && !this.locked && this.$client.sendData("keydown", {
                                key: this.getCode(e)
                            })
                        }
                    }, {
                        key: "onKeyUp",
                        value: function(e) {
                            this.focused && this.hosting && !this.locked && this.$client.sendData("keyup", {
                                key: this.getCode(e)
                            })
                        }
                    }, {
                        key: "onResise",
                        value: function() {
                            var e = 0;
                            if (this.fullscreen) {
                                var t = this._player,
                                    n = (t.offsetWidth, t.offsetHeight);
                                e = n
                            } else {
                                var o = this._component,
                                    s = o.offsetWidth,
                                    i = o.offsetHeight;
                                this._player.style.width = "".concat(s, "px"), this._player.style.height = "".concat(i, "px"), e = i
                            }
                            this._container.style.maxWidth = "".concat(this.horizontal / this.vertical * e, "px"), this._aspect.style.paddingBottom = "".concat(this.vertical / this.horizontal * 100, "%")
                        }
                    }, {
                        key: "onResolution",
                        value: function(e) {
                            this._resolution.open(e)
                        }
                    }, {
                        key: "admin",
                        get: function() {
                            return this.$accessor.user.admin
                        }
                    }, {
                        key: "connected",
                        get: function() {
                            return this.$accessor.connected
                        }
                    }, {
                        key: "connecting",
                        get: function() {
                            return this.$accessor.connecting
                        }
                    }, {
                        key: "hosting",
                        get: function() {
                            return this.$accessor.remote.hosting
                        }
                    }, {
                        key: "volume",
                        get: function() {
                            return this.$accessor.video.volume
                        }
                    }, {
                        key: "muted",
                        get: function() {
                            return this.$accessor.video.muted
                        }
                    }, {
                        key: "stream",
                        get: function() {
                            return this.$accessor.video.stream
                        }
                    }, {
                        key: "playing",
                        get: function() {
                            return this.$accessor.video.playing
                        }
                    }, {
                        key: "playable",
                        get: function() {
                            return this.$accessor.video.playable
                        }
                    }, {
                        key: "emotes",
                        get: function() {
                            return this.$accessor.chat.emotes
                        }
                    }, {
                        key: "autoplay",
                        get: function() {
                            return this.$accessor.settings.autoplay
                        }
                    }, {
                        key: "locked",
                        get: function() {
                            return this.$accessor.remote.locked
                        }
                    }, {
                        key: "scroll",
                        get: function() {
                            return this.$accessor.settings.scroll
                        }
                    }, {
                        key: "scroll_invert",
                        get: function() {
                            return this.$accessor.settings.scroll_invert
                        }
                    }, {
                        key: "clipboard",
                        get: function() {
                            return this.$accessor.remote.clipboard
                        }
                    }, {
                        key: "width",
                        get: function() {
                            return this.$accessor.video.width
                        }
                    }, {
                        key: "height",
                        get: function() {
                            return this.$accessor.video.height
                        }
                    }, {
                        key: "rate",
                        get: function() {
                            return this.$accessor.video.rate
                        }
                    }, {
                        key: "vertical",
                        get: function() {
                            return this.$accessor.video.vertical
                        }
                    }, {
                        key: "horizontal",
                        get: function() {
                            return this.$accessor.video.horizontal
                        }
                    }]), n
                }(at["d"]);
            Object(it["a"])([Object(at["c"])("component")], At.prototype, "_component", void 0), Object(it["a"])([Object(at["c"])("container")], At.prototype, "_container", void 0), Object(it["a"])([Object(at["c"])("overlay")], At.prototype, "_overlay", void 0), Object(it["a"])([Object(at["c"])("aspect")], At.prototype, "_aspect", void 0), Object(it["a"])([Object(at["c"])("player")], At.prototype, "_player", void 0), Object(it["a"])([Object(at["c"])("video")], At.prototype, "_video", void 0), Object(it["a"])([Object(at["c"])("resolution")], At.prototype, "_resolution", void 0), Object(it["a"])([Object(at["e"])("width")], At.prototype, "onWidthChanged", null), Object(it["a"])([Object(at["e"])("height")], At.prototype, "onHeightChanged", null), Object(it["a"])([Object(at["e"])("volume")], At.prototype, "onVolumeChanged", null), Object(it["a"])([Object(at["e"])("muted")], At.prototype, "onMutedChanged", null), Object(it["a"])([Object(at["e"])("stream")], At.prototype, "onStreamChanged", null), Object(it["a"])([Object(at["e"])("playing")], At.prototype, "onPlayingChanged", null), Object(it["a"])([Object(at["e"])("clipboard")], At.prototype, "onClipboardChanged", null), At = Object(it["a"])([Object(at["a"])({
                name: "neko-video",
                components: {
                    "neko-emote": jt,
                    "neko-resolution": Tt
                }
            })], At);
            var Rt = At,
                Pt = Rt,
                Lt = (n("2253"), Object(ht["a"])(Pt, pt, vt, !1, null, "068ea5d7", null)),
                It = Lt.exports,
                Ut = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("ul", [n("li", [n("i", {
                        staticClass: "fas fa-question-circle",
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.about(t)
                            }
                        }
                    })]), n("li", [e.admin ? n("i", {
                        directives: [{
                            name: "tooltip",
                            rawName: "v-tooltip",
                            value: {
                                content: e.$t("admin_loggedin"),
                                placement: "right",
                                offset: 5,
                                boundariesElement: "body"
                            },
                            expression: "{\n        content: $t('admin_loggedin'),\n        placement: 'right',\n        offset: 5,\n        boundariesElement: 'body',\n      }"
                        }],
                        staticClass: "fas fa-shield-alt"
                    }) : e._e()])])
                },
                Kt = [],
                Gt = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        return Object(g["a"])(this, n), t.apply(this, arguments)
                    }
                    return Object(y["a"])(n, [{
                        key: "about",
                        value: function() {
                            this.$accessor.client.toggleAbout()
                        }
                    }, {
                        key: "admin",
                        get: function() {
                            return this.$accessor.user.admin
                        }
                    }]), n
                }(at["d"]);
            Gt = Object(it["a"])([Object(at["a"])({
                name: "neko-menu"
            })], Gt);
            var Bt = Gt,
                Ft = Bt,
                Ht = (n("a904"), Object(ht["a"])(Ft, Ut, Kt, !1, null, "0abf7914", null)),
                Vt = Ht.exports,
                qt = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("aside", {
                        staticClass: "neko-menu"
                    }, [n("div", {
                        staticClass: "tabs-container"
                    }, [n("ul", [n("li", {
                        class: {
                            active: "chat" === e.tab
                        },
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.change("chat")
                            }
                        }
                    }, [n("i", {
                        staticClass: "fas fa-comment-alt"
                    }), n("span", [e._v(e._s(e.$t("chat")))])]), n("li", {
                        class: {
                            active: "settings" === e.tab
                        },
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.change("settings")
                            }
                        }
                    }, [n("i", {
                        staticClass: "fas fa-sliders-h"
                    }), n("span", [e._v(e._s(e.$t("settings")))])])])]), n("div", {
                        staticClass: "page-container"
                    }, ["chat" === e.tab ? n("neko-chat") : e._e(), "settings" === e.tab ? n("neko-settings") : e._e()], 1)])
                },
                Qt = [],
                zt = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        staticClass: "settings"
                    }, [n("ul", [n("li", [n("span", [e._v(e._s(e.$t("setting.scroll")))]), n("label", {
                        staticClass: "slider"
                    }, [n("input", {
                        directives: [{
                            name: "model",
                            rawName: "v-model",
                            value: e.scroll,
                            expression: "scroll"
                        }],
                        attrs: {
                            type: "range",
                            min: "5",
                            max: "100"
                        },
                        domProps: {
                            value: e.scroll
                        },
                        on: {
                            __r: function(t) {
                                e.scroll = t.target.value
                            }
                        }
                    })])]), n("li", [n("span", [e._v(e._s(e.$t("setting.scroll_invert")))]), n("label", {
                        staticClass: "switch"
                    }, [n("input", {
                        directives: [{
                            name: "model",
                            rawName: "v-model",
                            value: e.scroll_invert,
                            expression: "scroll_invert"
                        }],
                        attrs: {
                            type: "checkbox"
                        },
                        domProps: {
                            checked: Array.isArray(e.scroll_invert) ? e._i(e.scroll_invert, null) > -1 : e.scroll_invert
                        },
                        on: {
                            change: function(t) {
                                var n = e.scroll_invert,
                                    o = t.target,
                                    s = !!o.checked;
                                if (Array.isArray(n)) {
                                    var i = null,
                                        a = e._i(n, i);
                                    o.checked ? a < 0 && (e.scroll_invert = n.concat([i])) : a > -1 && (e.scroll_invert = n.slice(0, a).concat(n.slice(a + 1)))
                                } else e.scroll_invert = s
                            }
                        }
                    }), n("span")])]), n("li", [n("span", [e._v(e._s(e.$t("setting.autoplay")))]), n("label", {
                        staticClass: "switch"
                    }, [n("input", {
                        directives: [{
                            name: "model",
                            rawName: "v-model",
                            value: e.autoplay,
                            expression: "autoplay"
                        }],
                        attrs: {
                            type: "checkbox"
                        },
                        domProps: {
                            checked: Array.isArray(e.autoplay) ? e._i(e.autoplay, null) > -1 : e.autoplay
                        },
                        on: {
                            change: function(t) {
                                var n = e.autoplay,
                                    o = t.target,
                                    s = !!o.checked;
                                if (Array.isArray(n)) {
                                    var i = null,
                                        a = e._i(n, i);
                                    o.checked ? a < 0 && (e.autoplay = n.concat([i])) : a > -1 && (e.autoplay = n.slice(0, a).concat(n.slice(a + 1)))
                                } else e.autoplay = s
                            }
                        }
                    }), n("span")])]), n("li", [n("span", [e._v(e._s(e.$t("setting.ignore_emotes")))]), n("label", {
                        staticClass: "switch"
                    }, [n("input", {
                        directives: [{
                            name: "model",
                            rawName: "v-model",
                            value: e.ignore_emotes,
                            expression: "ignore_emotes"
                        }],
                        attrs: {
                            type: "checkbox"
                        },
                        domProps: {
                            checked: Array.isArray(e.ignore_emotes) ? e._i(e.ignore_emotes, null) > -1 : e.ignore_emotes
                        },
                        on: {
                            change: function(t) {
                                var n = e.ignore_emotes,
                                    o = t.target,
                                    s = !!o.checked;
                                if (Array.isArray(n)) {
                                    var i = null,
                                        a = e._i(n, i);
                                    o.checked ? a < 0 && (e.ignore_emotes = n.concat([i])) : a > -1 && (e.ignore_emotes = n.slice(0, a).concat(n.slice(a + 1)))
                                } else e.ignore_emotes = s
                            }
                        }
                    }), n("span")])]), n("li", [n("span", [e._v(e._s(e.$t("setting.chat_sound")))]), n("label", {
                        staticClass: "switch"
                    }, [n("input", {
                        directives: [{
                            name: "model",
                            rawName: "v-model",
                            value: e.chat_sound,
                            expression: "chat_sound"
                        }],
                        attrs: {
                            type: "checkbox"
                        },
                        domProps: {
                            checked: Array.isArray(e.chat_sound) ? e._i(e.chat_sound, null) > -1 : e.chat_sound
                        },
                        on: {
                            change: function(t) {
                                var n = e.chat_sound,
                                    o = t.target,
                                    s = !!o.checked;
                                if (Array.isArray(n)) {
                                    var i = null,
                                        a = e._i(n, i);
                                    o.checked ? a < 0 && (e.chat_sound = n.concat([i])) : a > -1 && (e.chat_sound = n.slice(0, a).concat(n.slice(a + 1)))
                                } else e.chat_sound = s
                            }
                        }
                    }), n("span")])]), e.connected ? n("li", [n("button", {
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.logout(t)
                            }
                        }
                    }, [e._v(e._s(e.$t("logout")))])]) : e._e()])])
                },
                Yt = [],
                Wt = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        return Object(g["a"])(this, n), t.apply(this, arguments)
                    }
                    return Object(y["a"])(n, [{
                        key: "logout",
                        value: function() {
                            this.$accessor.logout()
                        }
                    }, {
                        key: "connected",
                        get: function() {
                            return this.$accessor.connected
                        }
                    }, {
                        key: "scroll",
                        get: function() {
                            return this.$accessor.settings.scroll.toString()
                        },
                        set: function(e) {
                            this.$accessor.settings.setScroll(parseInt(e))
                        }
                    }, {
                        key: "scroll_invert",
                        get: function() {
                            return this.$accessor.settings.scroll_invert
                        },
                        set: function(e) {
                            this.$accessor.settings.setInvert(e)
                        }
                    }, {
                        key: "autoplay",
                        get: function() {
                            return this.$accessor.settings.autoplay
                        },
                        set: function(e) {
                            this.$accessor.settings.setAutoplay(e)
                        }
                    }, {
                        key: "ignore_emotes",
                        get: function() {
                            return this.$accessor.settings.ignore_emotes
                        },
                        set: function(e) {
                            this.$accessor.settings.setIgnore(e)
                        }
                    }, {
                        key: "chat_sound",
                        get: function() {
                            return this.$accessor.settings.chat_sound
                        },
                        set: function(e) {
                            this.$accessor.settings.setSound(e)
                        }
                    }]), n
                }(at["d"]);
            Wt = Object(it["a"])([Object(at["a"])({
                name: "neko-settings"
            })], Wt);
            var Jt = Wt,
                Xt = Jt,
                Zt = (n("b66f"), Object(ht["a"])(Xt, zt, Yt, !1, null, "da0b0e7c", null)),
                en = Zt.exports,
                tn = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        staticClass: "chat"
                    }, [n("ul", {
                        ref: "history",
                        staticClass: "chat-history",
                        on: {
                            click: e.onClick
                        }
                    }, [e._l(e.history, (function(t, o) {
                        return ["text" === t.type ? n("li", {
                            key: o,
                            staticClass: "message"
                        }, [n("div", {
                            staticClass: "author",
                            on: {
                                contextmenu: function(n) {
                                    n.stopPropagation(), n.preventDefault(), e.onContext(n, {
                                        member: e.member(t.id)
                                    })
                                }
                            }
                        }, [n("img", {
                            attrs: {
                                src: "https://api.adorable.io/avatars/40/" + e.member(t.id).displayname + ".png"
                            }
                        })]), n("div", {
                            staticClass: "content"
                        }, [n("div", {
                            staticClass: "content-head"
                        }, [n("span", [e._v(e._s(e.member(t.id).displayname))]), n("span", {
                            staticClass: "timestamp"
                        }, [e._v(e._s(e.timestamp(t.created)))])]), n("neko-markdown", {
                            staticClass: "content-body",
                            attrs: {
                                source: t.content
                            }
                        })], 1)]) : e._e(), "event" === t.type ? n("li", {
                            key: o,
                            staticClass: "event"
                        }, [n("div", {
                            directives: [{
                                name: "tooltip",
                                rawName: "v-tooltip",
                                value: {
                                    content: e.timestamp(t.created),
                                    placement: "left",
                                    offset: 3,
                                    boundariesElement: "body"
                                },
                                expression: "{\n            content: timestamp(message.created),\n            placement: 'left',\n            offset: 3,\n            boundariesElement: 'body',\n          }"
                            }],
                            staticClass: "content"
                        }, [t.id === e.id ? n("strong", [e._v(e._s(e.$t("you")))]) : n("strong", [e._v(e._s(e.member(t.id).displayname))]), e._v(" " + e._s(t.content) + " ")])]) : e._e()]
                    }))], 2), n("neko-context", {
                        ref: "context"
                    }), e.muted ? e._e() : n("div", {
                        staticClass: "chat-send"
                    }, [n("div", {
                        staticClass: "accent"
                    }), n("div", {
                        staticClass: "text-container"
                    }, [n("textarea", {
                        directives: [{
                            name: "model",
                            rawName: "v-model",
                            value: e.content,
                            expression: "content"
                        }],
                        ref: "input",
                        attrs: {
                            placeholder: "Send a message"
                        },
                        domProps: {
                            value: e.content
                        },
                        on: {
                            keydown: e.onKeyDown,
                            input: function(t) {
                                t.target.composing || (e.content = t.target.value)
                            }
                        }
                    }), e._v(" "), e.emoji ? n("neko-emoji", {
                        on: {
                            picked: e.onEmojiPicked,
                            done: function(t) {
                                e.emoji = !1
                            }
                        }
                    }) : e._e(), n("i", {
                        staticClass: "emoji-menu fas fa-laugh",
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.onEmoji(t)
                            }
                        }
                    })], 1)])], 1)
                },
                nn = [],
                on = (n("fb6a"), n("436a")),
                sn = (n("a15b"), n("d81d"), n("5319"), n("498a"), n("9911"), n("c24f")),
                an = n.n(sn),
                cn = sn["defaultRules"].blockQuote,
                rn = sn["defaultRules"].inlineCode,
                un = sn["defaultRules"].codeBlock,
                ln = sn["defaultRules"].autolink,
                dn = sn["defaultRules"].newline,
                hn = sn["defaultRules"].escape,
                fn = sn["defaultRules"].strong,
                mn = sn["defaultRules"].text,
                pn = sn["defaultRules"].link,
                vn = sn["defaultRules"].url,
                gn = sn["defaultRules"].em,
                yn = sn["defaultRules"].u,
                bn = sn["defaultRules"].br;
    
            function kn(e, t, n) {
                var o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : {},
                    s = !(arguments.length > 4 && void 0 !== arguments[4]) || arguments[4];
                n || (n = {}), n.class && o.cssModuleNames && (n.class = n.class.split(" ").map((function(e) {
                    return o.cssModuleNames[e] || e
                })).join(" "));
                var i = "";
                for (var a in n) Object.prototype.hasOwnProperty.call(n, a) && n[a] && (i += " ".concat(a, '="').concat(n[a], '"'));
                var c = "<".concat(e).concat(i, ">");
                return s ? "".concat(c).concat(t, "</").concat(e, ">") : c
            }
            var _n = {
                    inlineCode: rn,
                    newline: dn,
                    escape: hn,
                    strong: fn,
                    em: gn,
                    u: yn,
                    link: pn,
                    codeBlock: Object($["a"])({}, un, {
                        match: an.a.inlineRegex(/^```(([a-z0-9-]+?)\n+)?\n*([^]+?)\n*```/i),
                        parse: function(e, t, n) {
                            return {
                                lang: (e[2] || "").trim(),
                                content: e[3] || "",
                                inQuote: n.inQuote || !1
                            }
                        },
                        html: function(e, t, n) {
                            return kn("pre", kn("code", e.content, n), {}, n)
                        }
                    }),
                    blockQuote: Object($["a"])({}, cn, {
                        match: function(e, t, n) {
                            return !/^$|\n *$/.test(n) || t.inQuote ? null : /^( *>>> ([\s\S]*))|^( *> [^\n]+(\n *> [^\n]+)*\n?)/.exec(e)
                        },
                        parse: function(e, t, n) {
                            var o = e[0],
                                s = Boolean(/^ *>>> ?/.exec(o)),
                                i = s ? /^ *>>> ?/ : /^ *> ?/gm,
                                a = o.replace(i, "");
                            n.inQuote = !0, s || (n.inline = !0);
                            var c = t(a, n);
                            return n.inQuote = n.inQuote || !1, n.inline = n.inline || !1, {
                                content: c,
                                type: "blockQuote"
                            }
                        }
                    }),
                    autolink: Object($["a"])({}, ln, {
                        parse: function(e) {
                            return {
                                content: [{
                                    type: "text",
                                    content: e[1]
                                }],
                                target: e[1]
                            }
                        },
                        html: function(e, t, n) {
                            return kn("a", t(e.content, n), {
                                href: an.a.sanitizeUrl(e.target),
                                target: "_blank"
                            }, n)
                        }
                    }),
                    url: Object($["a"])({}, vn, {
                        parse: function(e) {
                            return {
                                content: [{
                                    type: "text",
                                    content: e[1]
                                }],
                                target: e[1]
                            }
                        },
                        html: function(e, t, n) {
                            return kn("a", t(e.content, n), {
                                href: an.a.sanitizeUrl(e.target),
                                target: "_blank"
                            }, n)
                        }
                    }),
                    strike: {
                        order: an.a.defaultRules.text.order,
                        match: an.a.inlineRegex(/^~~([\s\S]+?)~~(?!_)/),
                        parse: function(e) {
                            return {
                                content: [{
                                    type: "text",
                                    content: e[1]
                                }],
                                target: e[1]
                            }
                        },
                        html: function(e, t, n) {
                            return kn("s", t(e.content, n), {}, n)
                        }
                    },
                    text: Object($["a"])({}, mn, {
                        match: function(e) {
                            return /^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff-]|\n\n|\n|\w+:\S|$)/.exec(e)
                        },
                        html: function(e, t, n) {
                            return n.escapeHTML ? an.a.sanitizeText(e.content) : e.content
                        }
                    }),
                    br: Object($["a"])({}, bn, {
                        match: an.a.anyScopeRegex(/^\n/)
                    }),
                    emoji: {
                        order: an.a.defaultRules.strong.order,
                        match: function(e) {
                            return /^:([a-zA-z_-]*):/.exec(e)
                        },
                        parse: function(e) {
                            return {
                                id: e[1]
                            }
                        },
                        html: function(e, t, n) {
                            return kn("span", "", {
                                class: "emoji",
                                "data-emoji": e.id,
                                "v-tooltip.top-center": "{ content:':".concat(e.id, ":', offset: 2, delay: { show: 1000, hide: 100 } }")
                            }, n)
                        }
                    },
                    emoticon: {
                        order: an.a.defaultRules.text.order,
                        match: function(e) {
                            return /^(\\_\(\)_\/)/.exec(e)
                        },
                        parse: function(e) {
                            return {
                                type: "text",
                                content: e[1]
                            }
                        },
                        html: function(e, t, n) {
                            return t(e.content, n)
                        }
                    },
                    spoiler: {
                        order: 0,
                        match: function(e) {
                            return /^\|\|([\s\S]+?)\|\|/.exec(e)
                        },
                        parse: function(e, t, n) {
                            return {
                                content: t(e[1], n)
                            }
                        },
                        html: function(e, t, n) {
                            return kn("span", kn("span", t(e.content, n), {}, n), {
                                class: "spoiler"
                            }, n)
                        }
                    }
                },
                $n = an.a.parserFor(_n),
                On = an.a.outputFor(_n, "html"),
                wn = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        return Object(g["a"])(this, n), t.apply(this, arguments)
                    }
                    return Object(y["a"])(n, [{
                        key: "render",
                        value: function(e) {
                            var t = {
                                inline: !0,
                                inQuote: !1,
                                escapeHTML: !0,
                                cssModuleNames: null
                            };
                            return e({
                                template: "<div>".concat(On($n(this.source, t), t), "</div>")
                            })
                        }
                    }]), n
                }(at["d"]);
            Object(it["a"])([Object(at["b"])({
                required: !0
            })], wn.prototype, "source", void 0), wn = Object(it["a"])([Object(at["a"])({
                name: "neko-markdown"
            })], wn);
            var jn = wn,
                Cn = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("vue-context", {
                        ref: "context",
                        staticClass: "context",
                        scopedSlots: e._u([{
                            key: "default",
                            fn: function(t) {
                                return t.data ? [n("li", {
                                    staticClass: "header"
                                }, [n("div", {
                                    staticClass: "user"
                                }, [n("img", {
                                    attrs: {
                                        src: "https://api.adorable.io/avatars/25/" + t.data.member.displayname + ".png"
                                    }
                                }), n("strong", [e._v(e._s(t.data.member.displayname))])])]), n("li", {
                                    staticClass: "seperator"
                                }), n("li", [t.data.member.ignored ? n("span", {
                                    on: {
                                        click: function(n) {
                                            return e.unignore(t.data.member)
                                        }
                                    }
                                }, [e._v(e._s(e.$t("context.unignore")))]) : n("span", {
                                    on: {
                                        click: function(n) {
                                            return e.ignore(t.data.member)
                                        }
                                    }
                                }, [e._v(e._s(e.$t("context.ignore")))])]), e.admin ? [n("li", [t.data.member.muted ? n("span", {
                                    on: {
                                        click: function(n) {
                                            return e.unmute(t.data.member)
                                        }
                                    }
                                }, [e._v(e._s(e.$t("context.unmute")))]) : n("span", {
                                    on: {
                                        click: function(n) {
                                            return e.mute(t.data.member)
                                        }
                                    }
                                }, [e._v(e._s(e.$t("context.mute")))])]), t.data.member.id === e.host ? n("li", [n("span", {
                                    on: {
                                        click: function(n) {
                                            return e.adminRelease(t.data.member)
                                        }
                                    }
                                }, [e._v(e._s(e.$t("context.release")))])]) : e._e(), t.data.member.id === e.host ? n("li", [n("span", {
                                    on: {
                                        click: function(n) {
                                            return e.adminControl(t.data.member)
                                        }
                                    }
                                }, [e._v(e._s(e.$t("context.take")))])]) : e._e(), n("li", [t.data.member.id !== e.host ? n("span", {
                                    on: {
                                        click: function(n) {
                                            return e.adminGive(t.data.member)
                                        }
                                    }
                                }, [e._v(e._s(e.$t("context.give")))]) : e._e()])] : [e.hosting ? n("li", [n("span", {
                                    on: {
                                        click: function(n) {
                                            return e.give(t.data.member)
                                        }
                                    }
                                }, [e._v(e._s(e.$t("context.give")))])]) : e._e()], e.admin ? [n("li", {
                                    staticClass: "seperator"
                                }), n("li", [n("span", {
                                    staticStyle: {
                                        color: "#f04747"
                                    },
                                    on: {
                                        click: function(n) {
                                            return e.kick(t.data.member)
                                        }
                                    }
                                }, [e._v(e._s(e.$t("context.kick")))])]), n("li", [n("span", {
                                    staticStyle: {
                                        color: "#f04747"
                                    },
                                    on: {
                                        click: function(n) {
                                            return e.ban(t.data.member)
                                        }
                                    }
                                }, [e._v(e._s(e.$t("context.ban")))])])] : e._e()] : void 0
                            }
                        }], null, !0)
                    })
                },
                En = [],
                xn = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        return Object(g["a"])(this, n), t.apply(this, arguments)
                    }
                    return Object(y["a"])(n, [{
                        key: "open",
                        value: function(e, t) {
                            this.context.open(e, t)
                        }
                    }, {
                        key: "kick",
                        value: function(e) {
                            var t = this;
                            this.$swal({
                                title: "Kick ".concat(e.displayname, "?"),
                                text: "Are you sure you want to kick ".concat(e.displayname, "?"),
                                icon: "warning",
                                showCancelButton: !0,
                                confirmButtonText: "Yes"
                            }).then((function(n) {
                                var o = n.value;
                                o && t.$accessor.user.kick(e)
                            }))
                        }
                    }, {
                        key: "ban",
                        value: function(e) {
                            var t = this;
                            this.$swal({
                                title: "Ban ".concat(e.displayname, "?"),
                                text: "Are you sure you want to ban ".concat(e.displayname, "? You will need to restart the server to undo this."),
                                icon: "warning",
                                showCancelButton: !0,
                                confirmButtonText: "Yes"
                            }).then((function(n) {
                                var o = n.value;
                                o && t.$accessor.user.ban(e)
                            }))
                        }
                    }, {
                        key: "mute",
                        value: function(e) {
                            var t = this;
                            this.$swal({
                                title: "Mute ".concat(e.displayname, "?"),
                                text: "Are you sure you want to mute ".concat(e.displayname, "?"),
                                icon: "warning",
                                showCancelButton: !0,
                                confirmButtonText: "Yes"
                            }).then((function(n) {
                                var o = n.value;
                                o && t.$accessor.user.mute(e)
                            }))
                        }
                    }, {
                        key: "unmute",
                        value: function(e) {
                            var t = this;
                            this.$swal({
                                title: "Unmute ".concat(e.displayname, "?"),
                                text: "Are you sure you want to unmute ".concat(e.displayname, "?"),
                                icon: "warning",
                                showCancelButton: !0,
                                confirmButtonText: "Yes"
                            }).then((function(n) {
                                var o = n.value;
                                o && t.$accessor.user.unmute(e)
                            }))
                        }
                    }, {
                        key: "adminRelease",
                        value: function(e) {
                            this.$accessor.remote.adminRelease()
                        }
                    }, {
                        key: "adminControl",
                        value: function(e) {
                            this.$accessor.remote.adminControl()
                        }
                    }, {
                        key: "adminGive",
                        value: function(e) {
                            this.$accessor.remote.adminGive(e)
                        }
                    }, {
                        key: "give",
                        value: function(e) {
                            this.$accessor.remote.give(e)
                        }
                    }, {
                        key: "ignore",
                        value: function(e) {
                            this.$accessor.user.setIgnored({
                                id: e.id,
                                ignored: !0
                            })
                        }
                    }, {
                        key: "unignore",
                        value: function(e) {
                            this.$accessor.user.setIgnored({
                                id: e.id,
                                ignored: !1
                            })
                        }
                    }, {
                        key: "admin",
                        get: function() {
                            return this.$accessor.user.admin
                        }
                    }, {
                        key: "hosting",
                        get: function() {
                            return this.$accessor.remote.hosting
                        }
                    }, {
                        key: "host",
                        get: function() {
                            return this.$accessor.remote.id
                        }
                    }]), n
                }(at["d"]);
            Object(it["a"])([Object(at["c"])("context")], xn.prototype, "context", void 0), xn = Object(it["a"])([Object(at["a"])({
                name: "neko-context",
                components: {
                    "vue-context": xt["a"]
                }
            })], xn);
            var Mn = xn,
                Nn = Mn,
                Dn = (n("312d"), Object(ht["a"])(Nn, Cn, En, !1, null, "05285da2", null)),
                Sn = Dn.exports,
                Tn = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        directives: [{
                            name: "on-clickaway",
                            rawName: "v-on-clickaway",
                            value: e.onClickAway,
                            expression: "onClickAway"
                        }],
                        staticClass: "neko-emoji"
                    }, [n("div", {
                        staticClass: "search"
                    }, [n("div", {
                        staticClass: "search-contianer"
                    }, [n("input", {
                        directives: [{
                            name: "model",
                            rawName: "v-model",
                            value: e.search,
                            expression: "search"
                        }],
                        ref: "search",
                        attrs: {
                            type: "text"
                        },
                        domProps: {
                            value: e.search
                        },
                        on: {
                            input: function(t) {
                                t.target.composing || (e.search = t.target.value)
                            }
                        }
                    })])]), n("div", {
                        ref: "scroll",
                        staticClass: "list",
                        on: {
                            scroll: e.onScroll
                        }
                    }, [n("ul", {
                        class: ["group-list"],
                        style: {
                            display: "" === e.search ? "flex" : "none"
                        }
                    }, e._l(e.groups, (function(t, o) {
                        return n("li", {
                            key: o,
                            ref: "groups",
                            refInFor: !0,
                            staticClass: "group"
                        }, [n("span", {
                            staticClass: "label"
                        }, [e._v(e._s(t.name))]), n("ul", {
                            staticClass: "emoji-list"
                        }, e._l(0 === o ? e.recent : t.list, (function(o) {
                            return n("li", {
                                key: t.id + "-" + o,
                                class: ["emoji-container", e.hovered === o ? "active" : ""]
                            }, [n("span", {
                                class: ["emoji"],
                                attrs: {
                                    "data-emoji": o
                                },
                                on: {
                                    mouseenter: function(t) {
                                        return t.stopPropagation(), t.preventDefault(), e.onMouseEnter(t, o)
                                    },
                                    click: function(t) {
                                        return t.stopPropagation(), t.preventDefault(), e.onClick(t, o)
                                    }
                                }
                            })])
                        })), 0)])
                    })), 0), n("ul", {
                        class: ["emoji-container"],
                        style: {
                            display: "" === e.search ? "none" : "flex"
                        }
                    }, e._l(e.filtered, (function(t) {
                        return n("li", {
                            key: t,
                            class: ["emoji-item", e.hovered === t ? "active" : ""]
                        }, [n("span", {
                            class: ["emoji"],
                            attrs: {
                                "data-emoji": t
                            },
                            on: {
                                mouseenter: function(n) {
                                    return n.stopPropagation(), n.preventDefault(), e.onMouseEnter(n, t)
                                },
                                click: function(n) {
                                    return n.stopPropagation(), n.preventDefault(), e.onClick(n, t)
                                }
                            }
                        })])
                    })), 0)]), n("div", {
                        staticClass: "details"
                    }, ["" !== e.hovered ? n("div", {
                        staticClass: "details-container"
                    }, [n("span", {
                        class: ["emoji"],
                        attrs: {
                            "data-emoji": e.hovered
                        }
                    }), n("span", {
                        staticClass: "emoji-id"
                    }, [e._v(":" + e._s(e.hovered) + ":")])]) : e._e()]), n("div", {
                        staticClass: "groups"
                    }, [n("ul", e._l(e.groups, (function(t, o) {
                        return n("li", {
                            key: o,
                            class: [t.id, e.active.id === t.id && "" === e.search ? "active" : ""],
                            on: {
                                click: function(t) {
                                    return t.stopPropagation(), t.preventDefault(), e.scrollTo(t, o)
                                }
                            }
                        }, [n("span", {
                            class: ["group-" + t.id + " fas"]
                        })])
                    })), 0)])])
                },
                An = [],
                Rn = (n("45fc"), n("841c"), n("c7db")),
                Pn = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        var e;
                        return Object(g["a"])(this, n), e = t.apply(this, arguments), e.waitingForPaint = !1, e.search = "", e.index = 0, e.hovered = "", e.recent = JSON.parse(de("emoji_recent", "[]")), e
                    }
                    return Object(y["a"])(n, [{
                        key: "scrollTo",
                        value: function(e, t) {
                            this._groups[t] && (this._scroll.scrollTop = 0 == t ? 0 : this._groups[t].offsetTop)
                        }
                    }, {
                        key: "onScroll",
                        value: function() {
                            this.waitingForPaint || (this.waitingForPaint = !0, window.requestAnimationFrame(this.onScrollPaint.bind(this)))
                        }
                    }, {
                        key: "onScrollPaint",
                        value: function() {
                            this.waitingForPaint = !1;
                            var e, t = this._scroll.scrollTop,
                                n = 0,
                                o = Object(Ne["a"])(this.groups.entries());
                            try {
                                for (o.s(); !(e = o.n()).done;) {
                                    var s = Object(he["a"])(e.value, 2),
                                        i = s[0],
                                        a = (s[1], this._groups[i]);
                                    if (a && a.offsetTop > t) break;
                                    n = i
                                }
                            } catch (c) {
                                o.e(c)
                            } finally {
                                o.f()
                            }
                            this.index !== n && (this.index = n)
                        }
                    }, {
                        key: "onMouseExit",
                        value: function(e, t) {
                            this.hovered = ""
                        }
                    }, {
                        key: "onMouseEnter",
                        value: function(e, t) {
                            this.hovered = t, this._search.placeholder = ":".concat(t, ":")
                        }
                    }, {
                        key: "onClick",
                        value: function(e, t) {
                            this.$accessor.emoji.setRecent(t), this.$emit("picked", t)
                        }
                    }, {
                        key: "onClickAway",
                        value: function(e) {
                            this.$emit("done")
                        }
                    }, {
                        key: "active",
                        get: function() {
                            return this.$accessor.emoji.groups[this.index]
                        }
                    }, {
                        key: "keywords",
                        get: function() {
                            return this.$accessor.emoji.keywords
                        }
                    }, {
                        key: "groups",
                        get: function() {
                            return this.$accessor.emoji.groups
                        }
                    }, {
                        key: "list",
                        get: function() {
                            return this.$accessor.emoji.list
                        }
                    }, {
                        key: "filtered",
                        get: function() {
                            var e, t = this,
                                n = [],
                                o = Object(Ne["a"])(this.list);
                            try {
                                for (o.s(); !(e = o.n()).done;) {
                                    var s = e.value;
                                    (s.includes(this.search) || "undefined" !== typeof this.keywords[s]) && this.keywords[s].some((function(e) {
                                        return e.includes(t.search)
                                    })) && n.push(s)
                                }
                            } catch (i) {
                                o.e(i)
                            } finally {
                                o.f()
                            }
                            return n
                        }
                    }]), n
                }(at["d"]);
            Object(it["a"])([Object(at["c"])("scroll")], Pn.prototype, "_scroll", void 0), Object(it["a"])([Object(at["c"])("search")], Pn.prototype, "_search", void 0), Object(it["a"])([Object(at["c"])("groups")], Pn.prototype, "_groups", void 0), Pn = Object(it["a"])([Object(at["a"])({
                name: "neko-emoji",
                directives: {
                    onClickaway: Rn["directive"]
                }
            })], Pn);
            var Ln = Pn,
                In = Ln,
                Un = (n("0a14"), Object(ht["a"])(In, Tn, An, !1, null, "2e003ba6", null)),
                Kn = Un.exports,
                Gn = 512,
                Bn = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        var e;
                        return Object(g["a"])(this, n), e = t.apply(this, arguments), e.emoji = !1, e.content = "", e
                    }
                    return Object(y["a"])(n, [{
                        key: "onHistroyChange",
                        value: function() {
                            var e = this;
                            this.$nextTick((function() {
                                e._history.scrollTop = e._history.scrollHeight
                            }))
                        }
                    }, {
                        key: "onMutedChange",
                        value: function(e) {
                            e && (this.content = "")
                        }
                    }, {
                        key: "mounted",
                        value: function() {
                            var e = this;
                            this.$nextTick((function() {
                                e._history.scrollTop = e._history.scrollHeight
                            }))
                        }
                    }, {
                        key: "member",
                        value: function(e) {
                            return this.$accessor.user.members[e]
                        }
                    }, {
                        key: "timestamp",
                        value: function(e) {
                            var t = Object(on["a"])(e, new Date);
                            return "".concat(t.charAt(0).toUpperCase()).concat(t.slice(1))
                        }
                    }, {
                        key: "onEmoji",
                        value: function() {
                            this.emoji = !this.emoji, this._input.focus()
                        }
                    }, {
                        key: "onEmojiPicked",
                        value: function(e) {
                            var t = this,
                                n = ":".concat(e, ":");
                            if (this._input.selectionStart || 0 === this._input.selectionStart) {
                                var o = this._input.selectionStart,
                                    s = this._input.selectionEnd;
                                this.content = this.content.substring(0, o) + n + this.content.substring(s, this.content.length), this.$nextTick((function() {
                                    t._input.selectionStart = o + n.length, t._input.selectionEnd = o + n.length
                                }))
                            } else this.content += n;
                            this._input.focus(), this.emoji = !1
                        }
                    }, {
                        key: "onContext",
                        value: function(e, t) {
                            var n = t.member;
                            n.id !== this.id && this._context.open(e, {
                                member: n
                            })
                        }
                    }, {
                        key: "onClick",
                        value: function(e) {
                            var t = e.target;
                            t && ("span" === t.tagName.toLowerCase() && t.classList.contains("spoiler") && (t.classList.add("active"), e.preventDefault()), t.parentElement && "span" === t.parentElement.tagName.toLowerCase() && t.parentElement.classList.contains("spoiler") && (t.parentElement.classList.add("active"), e.preventDefault()))
                        }
                    }, {
                        key: "onKeyDown",
                        value: function(e) {
                            if (!this.muted)
                                if (this.content.length > Gn && (this.content = this.content.substring(0, Gn)), this.content.length != Gn) 13 !== e.keyCode || e.shiftKey || ("" !== this.content ? (this.$accessor.chat.sendMessage(this.content), this.content = "", e.preventDefault()) : e.preventDefault());
                                else {
                                    if ([8, 16, 17, 18, 20, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 91, 93, 144].includes(e.keyCode) || e.ctrlKey && [67, 65, 88].includes(e.keyCode)) return;
                                    e.preventDefault()
                                }
                        }
                    }, {
                        key: "id",
                        get: function() {
                            return this.$accessor.user.id
                        }
                    }, {
                        key: "muted",
                        get: function() {
                            return this.$accessor.user.muted
                        }
                    }, {
                        key: "history",
                        get: function() {
                            return this.$accessor.chat.history
                        }
                    }]), n
                }(at["d"]);
            Object(it["a"])([Object(at["c"])("input")], Bn.prototype, "_input", void 0), Object(it["a"])([Object(at["c"])("history")], Bn.prototype, "_history", void 0), Object(it["a"])([Object(at["c"])("context")], Bn.prototype, "_context", void 0), Object(it["a"])([Object(at["e"])("history")], Bn.prototype, "onHistroyChange", null), Object(it["a"])([Object(at["e"])("muted")], Bn.prototype, "onMutedChange", null), Bn = Object(it["a"])([Object(at["a"])({
                name: "neko-chat",
                components: {
                    "neko-markdown": jn,
                    "neko-context": Sn,
                    "neko-emoji": Kn
                }
            })], Bn);
            var Fn = Bn,
                Hn = Fn,
                Vn = (n("5ea3"), Object(ht["a"])(Hn, tn, nn, !1, null, "473c07ce", null)),
                qn = Vn.exports,
                Qn = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        return Object(g["a"])(this, n), t.apply(this, arguments)
                    }
                    return Object(y["a"])(n, [{
                        key: "change",
                        value: function(e) {
                            this.$accessor.client.setTab(e)
                        }
                    }, {
                        key: "tab",
                        get: function() {
                            return this.$accessor.client.tab
                        }
                    }]), n
                }(at["d"]);
            Qn = Object(it["a"])([Object(at["a"])({
                name: "neko",
                components: {
                    "neko-settings": en,
                    "neko-chat": qn
                }
            })], Qn);
            var zn = Qn,
                Yn = zn,
                Wn = (n("b0a8"), Object(ht["a"])(Yn, qt, Qt, !1, null, null, null)),
                Jn = Wn.exports,
                Xn = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("ul", [e.isTouch ? e._e() : n("li", [n("i", {
                        directives: [{
                            name: "tooltip",
                            rawName: "v-tooltip",
                            value: {
                                content: !e.hosted || e.hosting ? e.hosting ? e.$t("controls.release") : e.$t("controls.request") : "",
                                placement: "top",
                                offset: 5,
                                boundariesElement: "body",
                                delay: {
                                    show: 300,
                                    hide: 100
                                }
                            },
                            expression: "{\n        content: !hosted || hosting ? (hosting ? $t('controls.release') : $t('controls.request')) : '',\n        placement: 'top',\n        offset: 5,\n        boundariesElement: 'body',\n        delay: { show: 300, hide: 100 },\n      }"
                        }],
                        class: [e.hosted && !e.hosting ? "disabled" : "", e.hosted || e.hosting ? "" : "faded", "fas", "fa-keyboard", "request"],
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.toggleControl(t)
                            }
                        }
                    })]), n("li", [n("label", {
                        directives: [{
                            name: "tooltip",
                            rawName: "v-tooltip",
                            value: {
                                content: e.hosting ? e.locked ? e.$t("controls.unlock") : e.$t("controls.lock") : "",
                                placement: "top",
                                offset: 5,
                                boundariesElement: "body",
                                delay: {
                                    show: 300,
                                    hide: 100
                                }
                            },
                            expression: "{\n        content: hosting ? (locked ? $t('controls.unlock') : $t('controls.lock')) : '',\n        placement: 'top',\n        offset: 5,\n        boundariesElement: 'body',\n        delay: { show: 300, hide: 100 },\n      }"
                        }],
                        staticClass: "switch"
                    }, [n("input", {
                        directives: [{
                            name: "model",
                            rawName: "v-model",
                            value: e.locked,
                            expression: "locked"
                        }],
                        attrs: {
                            type: "checkbox",
                            disabled: !e.hosting
                        },
                        domProps: {
                            checked: Array.isArray(e.locked) ? e._i(e.locked, null) > -1 : e.locked
                        },
                        on: {
                            change: function(t) {
                                var n = e.locked,
                                    o = t.target,
                                    s = !!o.checked;
                                if (Array.isArray(n)) {
                                    var i = null,
                                        a = e._i(n, i);
                                    o.checked ? a < 0 && (e.locked = n.concat([i])) : a > -1 && (e.locked = n.slice(0, a).concat(n.slice(a + 1)))
                                } else e.locked = s
                            }
                        }
                    }), n("span")])]), n("li", [n("i", {
                        class: [{
                            disabled: !e.playable
                        }, e.playing ? "fa-pause-circle" : "fa-play-circle", "fas", "play"],
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.toggleMedia(t)
                            }
                        }
                    })]), n("li", [n("div", {
                        staticClass: "volume"
                    }, [n("i", {
                        class: [0 === e.volume || e.muted ? "fa-volume-mute" : "fa-volume-up", "fas"],
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.toggleMute(t)
                            }
                        }
                    }), n("input", {
                        directives: [{
                            name: "model",
                            rawName: "v-model",
                            value: e.volume,
                            expression: "volume"
                        }],
                        attrs: {
                            type: "range",
                            min: "0",
                            max: "100"
                        },
                        domProps: {
                            value: e.volume
                        },
                        on: {
                            __r: function(t) {
                                e.volume = t.target.value
                            }
                        }
                    })])])])
                },
                Zn = [],
                eo = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        return Object(g["a"])(this, n), t.apply(this, arguments)
                    }
                    return Object(y["a"])(n, [{
                        key: "toggleControl",
                        value: function() {
                            this.playable && this.$accessor.remote.toggle()
                        }
                    }, {
                        key: "toggleMedia",
                        value: function() {
                            this.playable && this.$accessor.video.togglePlay()
                        }
                    }, {
                        key: "toggleMute",
                        value: function() {
                            this.$accessor.video.toggleMute()
                        }
                    }, {
                        key: "isTouch",
                        get: function() {
                            return "undefined" !== typeof navigator.maxTouchPoints && navigator.maxTouchPoints < 0 || "ontouchstart" in document.documentElement
                        }
                    }, {
                        key: "hosted",
                        get: function() {
                            return this.$accessor.remote.hosted
                        }
                    }, {
                        key: "hosting",
                        get: function() {
                            return this.$accessor.remote.hosting
                        }
                    }, {
                        key: "volume",
                        get: function() {
                            return this.$accessor.video.volume
                        },
                        set: function(e) {
                            this.$accessor.video.setVolume(e)
                        }
                    }, {
                        key: "muted",
                        get: function() {
                            return this.$accessor.video.muted || 0 === this.volume
                        }
                    }, {
                        key: "playing",
                        get: function() {
                            return this.$accessor.video.playing
                        }
                    }, {
                        key: "playable",
                        get: function() {
                            return this.$accessor.video.playable
                        }
                    }, {
                        key: "locked",
                        get: function() {
                            return this.$accessor.remote.locked && this.$accessor.remote.hosting
                        },
                        set: function(e) {
                            this.$accessor.remote.setLocked(e)
                        }
                    }]), n
                }(at["d"]);
            eo = Object(it["a"])([Object(at["a"])({
                name: "neko-controls"
            })], eo);
            var to = eo,
                no = to,
                oo = (n("76c2"), Object(ht["a"])(no, Xn, Zn, !1, null, "2e779872", null)),
                so = oo.exports,
                io = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        staticClass: "members"
                    }, [n("div", {
                        staticClass: "members-container"
                    }, [n("ul", {
                        staticClass: "members-list"
                    }, [e.member ? n("li", [n("div", {
                        class: [{
                            host: e.member.id === e.host
                        }, "self", "member"]
                    }, [n("img", {
                        attrs: {
                            src: "https://api.adorable.io/avatars/50/" + e.member.displayname + ".png"
                        }
                    })])]) : e._e(), e._l(e.members, (function(t, o) {
                        return [t.id !== e.id && t.connected ? n("li", {
                            directives: [{
                                name: "tooltip",
                                rawName: "v-tooltip",
                                value: {
                                    content: t.displayname,
                                    placement: "bottom",
                                    offset: -15,
                                    boundariesElement: "body"
                                },
                                expression: "{ content: member.displayname, placement: 'bottom', offset: -15, boundariesElement: 'body' }"
                            }],
                            key: o
                        }, [n("div", {
                            class: [{
                                host: t.id === e.host,
                                admin: t.admin
                            }, "member"]
                        }, [n("img", {
                            attrs: {
                                src: "https://api.adorable.io/avatars/50/" + t.displayname + ".png"
                            },
                            on: {
                                contextmenu: function(n) {
                                    return n.stopPropagation(), n.preventDefault(), e.onContext(n, {
                                        member: t
                                    })
                                }
                            }
                        })])]) : e._e()]
                    }))], 2)]), n("neko-context", {
                        ref: "context"
                    })], 1)
                },
                ao = [],
                co = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        return Object(g["a"])(this, n), t.apply(this, arguments)
                    }
                    return Object(y["a"])(n, [{
                        key: "onContext",
                        value: function(e, t) {
                            this._context.open(e, t)
                        }
                    }, {
                        key: "id",
                        get: function() {
                            return this.$accessor.user.id
                        }
                    }, {
                        key: "host",
                        get: function() {
                            return this.$accessor.remote.id
                        }
                    }, {
                        key: "member",
                        get: function() {
                            return this.$accessor.user.member
                        }
                    }, {
                        key: "members",
                        get: function() {
                            return this.$accessor.user.members
                        }
                    }]), n
                }(at["d"]);
            Object(it["a"])([Object(at["c"])("context")], co.prototype, "_context", void 0), co = Object(it["a"])([Object(at["a"])({
                name: "neko-members",
                components: {
                    "neko-context": Sn
                }
            })], co);
            var ro = co,
                uo = ro,
                lo = (n("0423"), Object(ht["a"])(uo, io, ao, !1, null, "6d49d584", null)),
                ho = lo.exports,
                fo = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        staticClass: "emotes"
                    }, [e.muted ? e._e() : n("ul", [e._l(e.recent, (function(t) {
                        return n("li", {
                            key: t
                        }, [n("div", {
                            class: ["emote", t],
                            on: {
                                click: function(n) {
                                    return n.stopPropagation(), n.preventDefault(), e.sendEmote(t)
                                }
                            }
                        })])
                    })), n("li", [n("i", {
                        staticClass: "fas fa-grin-beam",
                        on: {
                            click: function(t) {
                                return t.stopPropagation(), t.preventDefault(), e.open(t)
                            }
                        }
                    })])], 2), n("vue-context", {
                        ref: "context",
                        staticClass: "context"
                    }, e._l(e.emotes, (function(t) {
                        return n("li", {
                            key: t
                        }, [n("div", {
                            class: ["emote", t],
                            on: {
                                click: function(n) {
                                    return e.sendEmote(t)
                                }
                            }
                        })])
                    })), 0)], 1)
                },
                mo = [],
                po = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        var e;
                        return Object(g["a"])(this, n), e = t.apply(this, arguments), e.recent = JSON.parse(de("emote_recent", "[]")), e
                    }
                    return Object(y["a"])(n, [{
                        key: "open",
                        value: function(e) {
                            this.context.open(e)
                        }
                    }, {
                        key: "sendEmote",
                        value: function(e) {
                            this.recent.includes(e) || (this.recent.length > 4 && this.recent.shift(), this.recent.push(e), le("emote_recent", JSON.stringify(this.recent))), this.$accessor.chat.sendEmote(e)
                        }
                    }, {
                        key: "emotes",
                        get: function() {
                            var e = this;
                            return ["anger", "bomb", "sleep", "explode", "sweat", "poo", "hundred", "alert", "punch", "wave", "okay", "thumbs-up", "clap", "prey", "celebrate", "flame", "goof", "love", "cool", "smerk", "worry", "ouch", "cry", "surprised", "quiet", "rage", "annoy", "steamed", "scared", "terrified", "sleepy", "dead", "happy", "roll-eyes", "thinking", "clown", "sick", "rofl", "drule", "sniff", "sus", "party", "odd", "hot", "cold", "blush", "sad"].filter((function(t) {
                                return !e.recent.includes(t)
                            }))
                        }
                    }, {
                        key: "muted",
                        get: function() {
                            return this.$accessor.user.muted
                        }
                    }]), n
                }(at["d"]);
            Object(it["a"])([Object(at["c"])("context")], po.prototype, "context", void 0), po = Object(it["a"])([Object(at["a"])({
                name: "neko-emotes",
                components: {
                    "vue-context": xt["a"]
                }
            })], po);
            var vo = po,
                go = vo,
                yo = (n("f21b"), Object(ht["a"])(go, fo, mo, !1, null, "10c6d1ef", null)),
                bo = yo.exports,
                ko = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        staticClass: "about",
                        on: {
                            click: e.toggle
                        }
                    }, [n("div", {
                        staticClass: "window"
                    }, [e.loading ? n("div", {
                        staticClass: "loading"
                    }, [e._m(0), e._m(1)]) : e._e(), e.loading ? e._e() : n("div", {
                        staticClass: "markdown-body",
                        domProps: {
                            innerHTML: e._s(e.about)
                        }
                    })])])
                },
                _o = [function() {
                    var e = this,
                        t = e.$createElement,
                        o = e._self._c || t;
                    return o("div", {
                        staticClass: "logo"
                    }, [ o("span", [o("b", [e._v("Prov")]), e._v("Edge")])])
                }, function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        staticClass: "loader"
                    }, [n("div", {
                        staticClass: "bounce1"
                    }), n("div", {
                        staticClass: "bounce2"
                    })])
                }],
                $o = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        var e;
                        return Object(g["a"])(this, n), e = t.apply(this, arguments), e.loading = !1, e
                    }
                    return Object(y["a"])(n, [{
                        key: "mounted",
                        value: function() {
                            var e = this;
                            "" === this.about && (this.loading = !0, this.$http.get("https://raw.githubusercontent.com/nurdism/neko/master/docs/README.md").then((function(t) {
                                return e.$http.post("https://api.github.com/markdown", {
                                    text: t.data,
                                    mode: "gfm",
                                    context: "github/gollum"
                                })
                            })).then((function(t) {
                                e.$accessor.client.setAbout(t.data), e.loading = !1
                            })).catch((function(e) {
                                return console.error(e)
                            })))
                        }
                    }, {
                        key: "toggle",
                        value: function(e) {
                            e.target && e.target.classList.contains("about") && this.$accessor.client.toggleAbout()
                        }
                    }, {
                        key: "about",
                        get: function() {
                            return this.$accessor.client.about_page
                        }
                    }]), n
                }(at["d"]);
            $o = Object(it["a"])([Object(at["a"])({
                name: "neko-about"
            })], $o);
            var Oo = $o,
                wo = Oo,
                jo = (n("e1fb"), Object(ht["a"])(wo, ko, _o, !1, null, "b9104722", null)),
                Co = jo.exports,
                Eo = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        staticClass: "header"
                    }, [e._m(0), n("ul", {
                        staticClass: "menu"
                    }, [n("li", [n("i", {
                        directives: [{
                            name: "tooltip",
                            rawName: "v-tooltip",
                            value: {
                                content: e.admin ? e.locked ? e.$t("room.unlock") : e.$t("room.lock") : e.locked ? e.$t("room.unlocked") : e.$t("room.locked"),
                                placement: "bottom",
                                offset: 5,
                                boundariesElement: "body",
                                delay: {
                                    show: 300,
                                    hide: 100
                                }
                            },
                            expression: "{\n          content: admin\n            ? locked\n              ? $t('room.unlock')\n              : $t('room.lock')\n            : locked\n            ? $t('room.unlocked')\n            : $t('room.locked'),\n          placement: 'bottom',\n          offset: 5,\n          boundariesElement: 'body',\n          delay: { show: 300, hide: 100 },\n        }"
                        }],
                        class: [{
                            disabled: !e.admin
                        }, {
                            "fa-lock-open": !e.locked
                        }, {
                            "fa-lock": e.locked
                        }, "fas", "lock"],
                        on: {
                            click: e.toggleLock
                        }
                    })]), n("li", [n("i", {
                        staticClass: "fas fa-bars toggle",
                        on: {
                            click: e.toggleMenu
                        }
                    })])])])
                },
                xo = [function() {
                    var e = this,
                        t = e.$createElement,
                        o = e._self._c || t;
                    return o("div", {
                        staticClass: "neko"
                    }, [ o("span", [o("b", [e._v("Prov")]), e._v("Edge")])])
                }],
                Mo = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        return Object(g["a"])(this, n), t.apply(this, arguments)
                    }
                    return Object(y["a"])(n, [{
                        key: "toggleMenu",
                        value: function() {
                            this.$accessor.client.toggleSide()
                        }
                    }, {
                        key: "toggleLock",
                        value: function() {
                            this.admin && (this.locked ? this.$accessor.unlock() : this.$accessor.lock())
                        }
                    }, {
                        key: "admin",
                        get: function() {
                            return this.$accessor.user.admin
                        }
                    }, {
                        key: "locked",
                        get: function() {
                            return this.$accessor.locked
                        }
                    }]), n
                }(at["d"]);
            Mo = Object(it["a"])([Object(at["a"])({
                name: "neko-settings"
            })], Mo);
            var No = Mo,
                Do = No,
                So = (n("b0db"), Object(ht["a"])(Do, Eo, xo, !1, null, "00855f12", null)),
                To = So.exports,
                Ao = function() {
                    var e = this,
                        t = e.$createElement,
                        n = e._self._c || t;
                    return n("div", {
                        staticClass: "unsupported"
                    }, [n("div", {
                        staticClass: "window"
                    }, [e._m(0), n("div", {
                        staticClass: "message"
                    }, [n("span", [e._v(e._s(e.$t("unsupported")))])])])])
                },
                Ro = [function() {
                    var e = this,
                        t = e.$createElement,
                        o = e._self._c || t;
                    return o("div", {
                        staticClass: "logo"
                    }, [ o("span", [o("b", [e._v("Prov")]), e._v("Edge")])])
                }],
                Po = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        return Object(g["a"])(this, n), t.apply(this, arguments)
                    }
                    return n
                }(at["d"]);
            Po = Object(it["a"])([Object(at["a"])({
                name: "neko-unsupported"
            })], Po);
            var Lo = Po,
                Io = Lo,
                Uo = (n("f85e"), Object(ht["a"])(Io, Ao, Ro, !1, null, "4e2a1df6", null)),
                Ko = Uo.exports,
                Go = function(e) {
                    Object(k["a"])(n, e);
                    var t = Object(b["a"])(n);
    
                    function n() {
                        return Object(g["a"])(this, n), t.apply(this, arguments)
                    }
                    return Object(y["a"])(n, [{
                        key: "about",
                        get: function() {
                            return this.$accessor.client.about
                        }
                    }, {
                        key: "side",
                        get: function() {
                            return this.$accessor.client.side
                        }
                    }, {
                        key: "connected",
                        get: function() {
                            return this.$accessor.connected
                        }
                    }]), n
                }(at["d"]);
            Object(it["a"])([Object(at["c"])("video")], Go.prototype, "video", void 0), Go = Object(it["a"])([Object(at["a"])({
                name: "neko",
                components: {
                    "neko-connect": mt,
                    "neko-video": It,
                    "neko-menu": Vt,
                    "neko-side": Jn,
                    "neko-controls": so,
                    "neko-members": ho,
                    "neko-emotes": bo,
                    "neko-about": Co,
                    "neko-header": To,
                    "neko-unsupported": Ko
                }
            })], Go);
            var Bo = Go,
                Fo = Bo,
                Ho = (n("6294"), Object(ht["a"])(Fo, ot, st, !1, null, null, null)),
                Vo = Ho.exports;
            d["default"].config.productionTip = !1, d["default"].use(v), d["default"].use(f.a), d["default"].use(m["a"]), d["default"].use(A), d["default"].use(I), d["default"].use(G), d["default"].use(N), new d["default"]({
                i18n: ae,
                store: nt,
                render: function(e) {
                    return e(Vo)
                },
                created: function() {
                    var e = this,
                        t = function t() {
                            e.$accessor.setActive(), e.$accessor.settings.autoplay && e.$accessor.video.playing && e.$accessor.video.setMuted(!1), window.removeEventListener("click", t, !1)
                        };
                    window.addEventListener("click", t, !1), this.$client.init(this), this.$accessor.initialise()
                }
            }).$mount("#neko")
        },
        ddc1: function(e, t, n) {},
        e1fb: function(e, t, n) {
            "use strict";
            var o = n("938d"),
                s = n.n(o);
            s.a
        },
        e347: function(e, t, n) {
            e.exports = n.p + ""
        },
        e434: function(e, t, n) {},
        ea2b: function(e, t, n) {},
        f03e: function(e, t, n) {},
        f21b: function(e, t, n) {
            "use strict";
            var o = n("ea2b"),
                s = n.n(o);
            s.a
        },
        f85e: function(e, t, n) {
            "use strict";
            var o = n("31ae"),
                s = n.n(o);
            s.a
        }
    });
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: robot-index
data:
  index.html: |
    <!DOCTYPE html>
    <html lang=en>
       <head>
          <meta charset=utf-8>
          <meta http-equiv=X-UA-Compatible content="IE=edge">
          <meta name=viewport content="width=device-width,initial-scale=1">
          <title>ProvEdge</title>
          <link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png>
          <link rel=manifest href=/site.webmanifest>
          <link rel=mask-icon href=/safari-pinned-tab.svg color=#19bd9c>
          <meta name=msapplication-TileColor content=#19bd9c>
          <meta name=theme-color content=#19bd9c>
          <link href=/css/app.a775742f.css rel=preload as=style>
          <link href=/js/app.08718670.js rel=preload as=script>
          <link href=/js/chunk-vendors.3e430266.js rel=preload as=script>
          <link href=/css/app.a775742f.css rel=stylesheet>
       </head>
       <body>
          <noscript><strong>We're sorry but ProvEdge doesn't work properly without JavaScript enabled. Please enable it to continue.</strong></noscript>
          <div id=neko></div>
          <script src=/js/chunk-vendors.3e430266.js></script><script src=/js/app.08718670.js></script>
       </body>
    </html>
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: rmf-core-robot-bootstrap
data:
  bootstrap.sh: |
    #!/bin/bash
    set -e
    
    trap "echo TRAPed signal" HUP INT QUIT KILL TERM
    
    echo "user:$PASSWD" | sudo chpasswd
    sudo ln -snf "/usr/share/zoneinfo/$TZ" /etc/localtime && echo "$TZ" | sudo tee /etc/timezone > /dev/null
    
    sudo ln -snf /dev/ptmx /dev/tty7
    sudo /etc/init.d/ssh start
    #sudo /etc/init.d/dbus start
    #pulseaudio --start
    
    # Install NVIDIA drivers, including X graphic drivers by omitting --x-{prefix,module-path,library-path,sysconfig-path}
    if ! command -v nvidia-xconfig &> /dev/null; then
      export DRIVER_VERSION=$(head -n1 </proc/driver/nvidia/version | awk '{print $8}')
      BASE_URL=https://download.nvidia.com/XFree86/Linux-x86_64
      cd /tmp
      curl -fsSL -O $BASE_URL/$DRIVER_VERSION/NVIDIA-Linux-x86_64-$DRIVER_VERSION.run
      sudo sh NVIDIA-Linux-x86_64-$DRIVER_VERSION.run -x
      cd NVIDIA-Linux-x86_64-$DRIVER_VERSION
      sudo ./nvidia-installer --silent \
    					--no-kernel-module \
    					--install-compat32-libs \
    					--no-nouveau-check \
    					--no-nvidia-modprobe \
    					--no-rpms \
    					--no-backup \
    					--no-check-for-alternate-installs \
    					--no-libglx-indirect \
    					--no-install-libglvnd
      sudo rm -rf /tmp/NVIDIA*
      cd ~
    fi
    if grep -Fxq "allowed_users=console" /etc/X11/Xwrapper.config; then
      sudo sed -i "s/allowed_users=console/allowed_users=anybody/;$ a needs_root_rights=yes" /etc/X11/Xwrapper.config
    fi   
    if [ -f "/etc/X11/xorg.conf" ]; then
      sudo rm /etc/X11/xorg.conf
    fi    
    if [ "$NVIDIA_VISIBLE_DEVICES" == "all" ]; then
      export GPU_SELECT=$(sudo nvidia-smi --query-gpu=uuid --format=csv | sed -n 2p)
    elif [ -z "$NVIDIA_VISIBLE_DEVICES" ]; then
      export GPU_SELECT=$(sudo nvidia-smi --query-gpu=uuid --format=csv | sed -n 2p)
    else
      export GPU_SELECT=$(sudo nvidia-smi --id=$(echo "$NVIDIA_VISIBLE_DEVICES" | cut -d ',' -f1) --query-gpu=uuid --format=csv | sed -n 2p)
      if [ -z "$GPU_SELECT" ]; then
        export GPU_SELECT=$(sudo nvidia-smi --query-gpu=uuid --format=csv | sed -n 2p)
      fi
    fi   
    if [ -z "$GPU_SELECT" ]; then
      echo "No NVIDIA GPUs detected. Exiting."
      exit 1
    fi   
    HEX_ID=$(sudo nvidia-smi --query-gpu=pci.bus_id --id="$GPU_SELECT" --format=csv | sed -n 2p)
    IFS=":." ARR_ID=($HEX_ID)
    unset IFS
    BUS_ID=PCI:$((16#${ARR_ID[1]})):$((16#${ARR_ID[2]})):$((16#${ARR_ID[3]}))
    export MODELINE=$(cvt -r ${SIZEW} ${SIZEH} | sed -n 2p)
    sudo nvidia-xconfig --virtual="${SIZEW}x${SIZEH}" --depth="$CDEPTH" --mode=$(echo $MODELINE | awk '{print $2}' | tr -d '"') --allow-empty-initial-configuration --no-probe-all-gpus --busid="$BUS_ID" --only-one-x-screen --connected-monitor="$VIDEO_PORT"
    sudo sed -i '/Driver\s\+"nvidia"/a\    Option         "ModeValidation" "NoMaxPClkCheck, NoEdidMaxPClkCheck, NoMaxSizeCheck, NoHorizSyncCheck, NoVertRefreshCheck, NoVirtualSizeCheck, NoExtendedGpuCapabilitiesCheck, NoTotalSizeCheck, NoDualLinkDVICheck, NoDisplayPortBandwidthCheck, AllowNon3DVisionModes, AllowNonHDMI3DModes, AllowNonEdidModes, NoEdidHDMI2Check, AllowDpInterlaced"\n    Option         "DPI" "96 x 96"' /etc/X11/xorg.conf
    sudo sed -i '/Section\s\+"Monitor"/a\    '"$MODELINE" /etc/X11/xorg.conf    
    sudo /usr/bin/dbus &
    export DISPLAY=:0
    /usr/bin/pulseaudio --disallow-module-loading -vvvv --disallow-exit --exit-idle-time=-1 &
    cd /etc/X11
    /usr/bin/X vt7 -novtswitch -sharevts +extension "MIT-SHM" :0 -config xorg.conf :0 &
    /usr/bin/neko serve -d --static "/var/www" --bind "0.0.0.0:$NEKO_BIND"   --epr "$NEKO_UDP_PORT" --display ":0" &
    mate-session &   
    echo "Session Running. Press [Return] to exit. TEST CM"
    read